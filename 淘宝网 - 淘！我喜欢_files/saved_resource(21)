define("kg/home-2017/1.3.0/index",["util","node","ua","dom","kg/session/0.0.1/index","kg/pattern/2.1.3/lib/reporter","kg/pattern/2.1.3/lib/event","kg/pattern/2.1.3/lib/image","kg/pattern/2.1.3/lib/io","promise","kg/pattern/2.1.3/index","kg/slide/6.0.8/index","url","cookie","anim","kg/offline/7.0.1/index","kg/attr-anim/6.0.6/index","kg/home-2017/1.3.0/c/fixedtool/index.css","kg/datalazyload/6.0.10/index"],function(require,exports,module){var util=require("util"),node=require("node"),_ua_=require("ua"),dom=require("dom"),aliSession=require("kg/session/0.0.1/index"),aliPatternLibReporter=require("kg/pattern/2.1.3/lib/reporter"),aliPatternLibEvent=require("kg/pattern/2.1.3/lib/event"),aliPatternLibImage=require("kg/pattern/2.1.3/lib/image"),aliPatternLibIo=require("kg/pattern/2.1.3/lib/io"),promise=require("promise"),aliPattern=require("kg/pattern/2.1.3/index"),aliSlide=require("kg/slide/6.0.8/index"),_url_=require("url"),cookie=require("cookie"),anim=require("anim"),aliOffline=require("kg/offline/7.0.1/index"),aliAttrAnim=require("kg/attr-anim/6.0.6/index"),kgHome2017130CFixedtoolIndexless=require("kg/home-2017/1.3.0/c/fixedtool/index.css"),aliDatalazyload=require("kg/datalazyload/6.0.10/index"),kgHome2017130LibPolyfill,kgHome2017130LibAplus,kgHome2017130LibFeature,kgHome2017130LibTanx,kgHome2017130CQrIndex,kgHome2017130CServiceCatjsthtml,kgHome2017130CServiceItemjsthtml,kgHome2017130CServiceBannerjsthtml,kgHome2017130LibAld,kgHome2017130CTmallIndex,kgHome2017130CConveLayoutjsthtml,kgHome2017130CFocusItemjsthtml,kgHome2017130CNavIndex,kgHome2017130CBeltItemjsthtml,kgHome2017130CommonPipeIndex,kgHome2017130CAppItemjsthtml,kgHome2017130CMemberLoginjsthtml,kgHome2017130CNoticeIndex,kgHome2017130CHeadlineItemjsthtml,kgHome2017130CDecorationsItemjsthtml,kgHome2017130CTanxIndex,kgHome2017130CSearchSticky,kgHome2017130CSearchTmalljsthtml,kgHome2017130CSearchAlimamajsthtml,kgHome2017130CCornerIndex,kgHome2017130CFixedtoolItemjsthtml,kgHome2017130CSuperbannerItemjsthtml,kgHome2017130LibLog,kgHome2017130CommonHeadItemBarjsthtml,kgHome2017130CommonHeadItemjsthtml,kgHome2017130LibUtil,kgHome2017130CAdIndex,kgHome2017130CServiceIndex,kgHome2017130CPromoIndex,kgHome2017130CConveIndex,kgHome2017130CFocusIndex,kgHome2017130CBeltIndex,kgHome2017130CAppIndex,kgHome2017130CMemberIndex,kgHome2017130CHeadlineIndex,kgHome2017130CDecorationsIndex,kgHome2017130CSearchIndex,kgHome2017130CFixedtoolIndex,kgHome2017130CSuperbannerIndex,kgHome2017130CommonHeadIndex,kgHome2017130LibModules,kgHome2017130CommonInject,kgHome2017130LibLoader,kgHome2017130LibIndex,kgHome2017130Index;kgHome2017130LibPolyfill=function(e){function t(){function e(e,t){if(t=t||{bubbles:!1,cancelable:!1,detail:void 0},document.createEvent){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}}return"function"!=typeof window.CustomEvent&&(e.prototype=window.Event&&window.Event.prototype||{},void(window.CustomEvent=e))}function n(){var e=navigator.userAgent.toLowerCase().indexOf("taobrowser")>-1;window.requestNextAnimationFrame=function(){if(e)return function(e){setTimeout(function(){e&&e()})};var t=void 0,n=void 0,a=0,i=navigator.userAgent,o=0,r=this;return window.webkitRequestAnimationFrame&&(n=function(e){void 0===e&&(e=+new Date),r.callback(e)},t=window.webkitRequestAnimationFrame,window.webkitRequestAnimationFrame=function(e,a){r.callback=e,t(n,a)}),window.mozRequestAnimationFrame&&(o=i.indexOf("rv:"),i.indexOf("Gecko")!=-1&&(a=i.substr(o+3,3),"2.0"===a&&(window.mozRequestAnimationFrame=void 0))),window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){var n,a;window.setTimeout(function(){n=+new Date,e(n),a=+new Date,r.timeout=1e3/60-(a-n)},r.timeout)}}()}return t(),n(),e}(),kgHome2017130LibAplus=function(e){var t=node.all,n=util,a="//g.alicdn.com/??secdev/entry/index.js,alilog/oneplus/entry.js";return n.load||(n.load=function(e){"complete"==document.readyState?e():t(window).on("load",function(){e()})}),n.load(function(){setTimeout(function(){KISSY.getScript(a)},3e3)}),e}(),kgHome2017130LibFeature=function(e){function t(){this._retina(),this._zoom(),this._webp(),this._env(),this.responsive(),this.pageActive()}var n=_ua_,a=node.all,i=dom,o=a("body"),r=util,s=aliSession,l=aliPatternLibReporter,c=aliPatternLibEvent;return t.prototype={_retina:function(){r.isHighDensity()?s.set("retina",!0):s.set("retina",!1)},pageActive:function(){var e,t,n;"undefined"!=typeof document.hidden?(e="hidden",n="visibilitychange",t="visibilityState"):"undefined"!=typeof document.mozHidden?(e="mozHidden",n="mozvisibilitychange",t="mozVisibilityState"):"undefined"!=typeof document.msHidden?(e="msHidden",n="msvisibilitychange",t="msVisibilityState"):"undefined"!=typeof document.webkitHidden&&(e="webkitHidden",n="webkitvisibilitychange",t="webkitVisibilityState"),a(document).on(n,function(t){c.broadcast("page:visibility",{hidden:document[e]})})},_zoom:function(){var e=this;if("windows"===n.os||"macintosh"===n.os){if(11==n.ie||"edge"==n.core)return;try{var t=this._detectZoom();t>0&&(t>1.01||t<.99)&&this._responsive(t),setTimeout(function(){var t=e._detectZoom();e._responsive(t)},2e3)}catch(a){}}},_detectZoom:function(){function e(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}var t=1,n=window.devicePixelRatio;return n&&n<1&&n>0?t=n:isNaN(screen.deviceXDPI)||isNaN(screen.logicalXDPI)?window.outerWidth>0&&window.innerWidth>0&&(t=window.outerWidth/window.innerWidth):t=screen.deviceXDPI/screen.logicalXDPI,e(t,1)},_responsive:function(e){e>0&&e<.99?o.addClass("tb-zoom"):o.removeClass("tb-zoom")},_webp:function(){this._supportWebp(function(e){e?s.set("webp",!0):s.set("webp",!1)})},_supportWebp:function(e){var t=new Image;t.onload=t.onerror=function(){e(2===t.width&&2===t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"},_env:function(){var e=a("#J_TBBucket"),t=e.attr("data-container"),n=e.attr("data-version"),i=e.attr("data-stop"),o=e.val();s.set("bucket",o),s.set("tbVersion",n),s.set("slideStop","1"==i),t&&s.set("env",t)},responsive:function(){var e=a(window);e.on("resize",function(){var e=a("body"),t=i.viewportWidth();r.each([990,1024,1190,1270,1365,1440],function(n){t<=n?e.addClass("s"+n):e.removeClass("s"+n)}),c.broadcast("window:responsive",{wide:t>1190})}),e.fire("resize")}},t.pwaAbility=function(){var e={promise:!1,serviceWorker:!1,serviceWorkerReady:!1,serviceWorkerRegister:!1,caches:!1,notification:!1};window.Promise&&(e.promise=!0),"serviceWorker"in navigator&&(e.serviceWorker=!0,navigator.serviceWorker.ready&&(e.serviceWorkerReady=!0),navigator.serviceWorker.register&&(e.serviceWorkerRegister=!0)),window.caches&&(e.caches=!0),window.Notification&&(e.notification=!0),l({category:"PWA_ability",msg:JSON.stringify(e)},"warn")},e=t}(),kgHome2017130LibTanx=function(e){var t=aliPatternLibReporter,n=node,a=n.all,i=function(e,n,i){e=a(e);var o=this.el=e.hasClass("J_Tanx")?e:e.one(".J_Tanx");return o?(this.isOPE=1==o.attr("data-isope"),this.pid=o.attr("data-id"),this.isCorner=e.hasClass("J_TanxCorner"),this.autoLazy=1==o.attr("data-autolazy"),this.cb=n||function(){},void this.init(i)):void t({category:"ERROR_Tanx_notFound_Hook",msg:"Tanx\u5e7f\u544a\u6ca1\u6709\u627e\u5230\u94a9\u5b50"})};i.prototype.init=function(e){if(this.isCorner)return void this.loadCorner();if(this.autoLazy){var t=this.el.parent("div"),n=t&&(t.offset().top-Number(this.el.attr("data-ahead"))||0);return void this.lazyLoad({pid:this.pid,isope:this.isOPE,top:n})}this.load(this.pid,this.isOPE,e)};var o=!1;return i.prototype.loadCorner=function(){var e=this;if(!((window.innerWidth||document.documentElement.clientWidth+21)<1366||o)){o=!0;var n="//p.tanx.com/ex?i=",i=KISSY.map(a(".J_TanxCorner"),function(e){return a(e).one(".J_Tanx").attr("id").split("-")[2]}),r=Math.floor(Math.random()*i.length);KISSY.getScript(n+i[r],{error:function(){t({category:"ERROR_Tanx-script-crash",msg:"Tanx \u5e7f\u544a\u521d\u59cb\u5316\u811a\u672c\u52a0\u8f7d\u5931\u8d25\uff01 "+i[r]},"warn"),e.cb()}})}},i.prototype.load=function(e,n,i){function o(){t({category:"ERROR_Tanx-notFound-hook",msg:"Tanx \u6ca1\u6709\u627e\u5230 id \u4e3a "+e+" \u7684 hook\uff01",sampling:1},"warn")}var r=window,s={i:e,sd:"ecpm.tanx.com"};if(e){if(n&&(s.sd=("https:"===location.protocol?"opehs":"ope")+".tanx.com"),r.tanxssp_show)return void r.tanxssp_show(s);if(r.tanx_ssp_onload=r.tanx_ssp_onload||[],r.tanx_ssp_onload.push(s),this.cb(),i){if(!a(".tanx-a-"+e).length)return void o()}else if(!a("#tanx-a-"+e).length)return void o();var l="//g.alicdn.com/mm/tanx-cdn/t/tanxssp.js?v=2";KISSY.getScript(l,{charset:"gbk",error:function(){"function"!=typeof window.tanxssp_show&&t({category:"ERROR_Tanx-script-crash",msg:"Tanx \u5e7f\u544a\u521d\u59cb\u5316\u811a\u672c\u52a0\u8f7d\u5931\u8d25\uff01 "+e},"warn")},success:function(){t({msg:"[Tanx] "+e})}})}},i.prototype.lazyLoad=function(e){function n(){var a=o.height()+o.scrollTop();e.top<=a&&"1"!=i.el.attr("loaded")&&(t({msg:"[Lazyload Tanx] "+e.pid}),i.el.attr("loaded","1"),i.load(e.pid,e.isope),o.detach("scroll resize",n))}var i=this,o=a(window);o.on("scroll resize",n),n()},e=i}(),kgHome2017130CQrIndex=function(e){var t=node,n=t.all,a=aliPatternLibImage,i=function(e){this.el=e;var t=n(".qrcode",this.el),i=t.attr("data-src"),i=a.getImageAndCache(i,{webp:!0});t.attr("src",i),this.el.delegate("click",".J_QrFt",function(){this.el.hide()},this)};return e=i}(),kgHome2017130CServiceCatjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)_.each(data,function(e,t){if(__p+="\n  ",t<3){__p+='\n  <div class="service-panel">\n    <h5>\n      ';var n=e.head&&e.head[0];__p+='\n      <a href="'+__e(n.link)+'">'+(null==(__t=n.name)?"":__t)+'</a>\n      <a href="'+__e(n.more)+'">\n        <span>\u66f4\u591a <i class="tb-ifont">&#xe62e;</i></span>\n      </a>\n    </h5>\n    <p>\n      ',_.each(e.list,function(e,t){__p+="\n        ";var n=_.isTrue(e.h);__p+='\n        <a href="'+__e(e.link)+'" ',n&&(__p+='class="h" '),__p+=">"+(null==(__t=e.name)?"":__t)+"</a>\n      "}),__p+="\n    </p>\n  </div>\n  "}__p+="\n"}),__p+="\n\n";return __p}}(),kgHome2017130CServiceItemjsthtml=function(exports){return exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="service-float-item clearfix" data-index="'+(null==(__t=data.index)?"":__t)+'">\n  <div class="service-fi-links loading" data-spm-ab="links-'+(null==(__t=data.index)?"":__t)+'"></div>\n  <div class="service-rmd">\n    <h3>\u731c\u4f60\u559c\u6b22</h3>\n    <div class="service-rmd-list loading clearfix" data-spm-ab="rmds-'+(null==(__t=data.index)?"":__t)+'"></div>\n  </div>\n</div>\n';return __p}}(),kgHome2017130CServiceBannerjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)_.each(data.recItemList,function(e,t){__p+="\n  ",t<6&&(__p+='\n  <a href="'+__e(e.url||e.link)+'" class="fl">\n    <div class="img-wrapper">\n      <img src="'+__e($runtime.image(e.pic||e.img,"110x110","200x200","q90",!0))+'" alt="'+(null==(__t=e.itemName||e.title)?"":__t)+'"/>\n    </div>\n    <h5>\n      ',e.dacuIcon&&(__p+='\n      <span class="dacu-icon '+(null==(__t=e.dacuIcon)?"":__t)+'"></span>\n      '),__p+='\n      <span class="li-name a-all">'+(null==(__t=e.itemName||e.title)?"":__t)+"</span>\n    </h5>\n  </a>\n  "),__p+="\n"}),__p+="\n\n";return __p}}(),kgHome2017130LibAld=function(e){function t(e){return p[e]?n(p,e)?l.resolve(p[e]):l.reject():m?new l(function(t,n){h.push({id:e,resolve:t,reject:n})}):(m=!0,s.jsonp({url:"//ald.taobao.com/recommend2.htm",data:{appId:i()},timeout:4}).then(function(t){p=t||{},m=!1,a(t);var i=n(t,e);if(i)return i},function(e){m=!1,a()}))}function n(e,t){if(e&&e[t]&&e[t].data&&e[t].data.length>0)return e[t]}function a(e){d.each(h,function(t){var a=n(e,t.id);a?t.resolve(a):t.reject("empty")})}function i(){var e=[];return d.each(u(".J_Ald"),function(t){for(var n=u(t),a=n.attr("data-id"),i=!1,o=0,r=e.length;o<r;o++)e[o]===a&&(i=!0);i||e.push(a)}),e.join(",")}function o(e,t){var n=t||u(".J_Ald_"+e),a=u("img",n);n.addClass("mod-loaded"),n.css("visibility","visible"),d.each(a,function(e){var t=u(e),n=t.attr("data-src");n=c.getNewUrl(n,{webp:!0}),t.attr("src",n)})}function r(e,t,n,a){var i="";n=n||"";for(var o=a||u(".J_Ald_"+e),r=0,s=t.length;r<s;r++){var l=t[r];if(l.exposureParam&&l.nickNameStrategy){var d=new Image;d.src=l.exposureParam,d.onerror=function(){return!1}}var h=l.href||l.link||l.url||l.action,m=l.img||l.content||l.imgUrl,p=l.text||"",f={};!n&&a&&(f.webp=!0),m=c.getNewUrl(m,f),i+='<a href="'+h+'" data-spm="d'+(r+1)+'"><img src="'+(m+n)+'" alt="'+p+'" /></a>'}o.html(i),o.css("visibility","visible")}var s=aliPatternLibIo,l=promise,c=aliPatternLibImage,d=util,u=node.all,h=[],m=!1,p={};return e={loader:t,loadTms:o,render:r}}(),kgHome2017130CTmallIndex=function(e){function t(e){this.el=e,this.optEl=this.el.all(".J_TmallOpt"),this.retina=!!c.get("retina"),this.webp=!!c.get("webp"),t.superclass.constructor.apply(this)}var n=aliPattern,a=kgHome2017130LibTanx,i=kgHome2017130LibAld,o=node,r=aliSlide,s=util,l=aliPatternLibImage,c=aliSession,d=o.all;return n.extend(t,{init:function(){this.collectData(),this.initSlider(),this.bind(),this._getLogo(),d(".tmall-bd",this.el).removeClass("tb-loading")},bind:function(){this.el.delegate("click",".J_Prev",this._prev,this),this.el.delegate("click",".J_Next",this._next,this)},initSlider:function(){var e=this;this.slide=new r(this.el,{contentClass:"tmall-bd",pannelClass:"mod",navClass:"tmall-nav",effect:"hSlide",timeout:5e3,carousel:!0,autoSlide:!0,touchmove:!0}),this.el.on("mouseenter",function(){e.optEl.show()}),this.el.on("mouseleave",function(){e.optEl.hide()}),this.slide.on("beforeSwitch",function(t){var n=t.pannelnode,a=t.index;a==e.bannerLen+1&&(a=1),0==a&&(a=e.bannerLen),d(".tmall-hd i",e.el).text(a),e.store[a]||(n.hasClass("J_TanxWrapper")?(e.loadTanx(n,a-1),e._godlog(a)):e.loadContent(n,a-1))});try{var t=this.slide.pannels.item(1)}catch(n){this.reportError({extra:"\u521d\u59cb\u5316\u5f02\u5e38\uff0c\u8be6\u60c5\uff1a"+n.message})}this.loadContent(t,0)},_prev:function(e){e.preventDefault(),this.slide.previous()},_next:function(e){e.preventDefault(),this.slide.next()},renderTanx:function(){this.el.all(".J_Tanx").each(function(e){var t=d(e),n=Number(t.attr("data-lazychance"));n=isNaN(n)?1:n;var i=Math.random()>=n;i&&(new a(t),t.removeClass("J_Tanx"))})},loadContent:function(e,t){var n=this;if(e.addClass("mod-loaded"),this._godlog(t+1),e.hasClass("J_Ald")){e.removeClass("J_Ald");var a=e.attr("data-id");this.load(e,t,a).then(function(){var e=n._getBgs(t);e&&d(".J_Ald_"+a).each(function(t){n._bg(d(t),e)})})["catch"](function(e){n.reportError({extra:e&&e.message})}),this.store[t+1]=!0}},load:function(e,t,n){var a=this,o=this.banners[t],r=o&&o.share,l=o&&o.local,c=this.getSize(e),d=o&&o.alds;if(d&&d.length)var u=d.length;else switch(this.reportError({extra:JSON.stringify({data:this.banners,curIndex:t})}),t){case 0:u=5;break;case 1:case 2:u=4;break;case 3:u=12;break;case 4:u=2}var u=o.alds.length;r=s.isTrue(r),l=s.isTrue(l);var h=r?e:null;return i.loader(n).then(function(e){var s=e&&e.data;if(s)if(l)i.render(n,d,c,h);else if(r&&0!==t){var m=parseInt(o.start,10)||0,p=parseInt(o.len,10)||u,f=s.slice(m,m+p),_=!1;f&&f.length===p||(a.reportBackup({extra:"Ald \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a"+n+["\u5f00\u59cb\u4f4d\u7f6e\uff1a",m," \u957f\u5ea6\u4e3a\uff1a",p,"\u5b9e\u9645\u8fd4\u56de\u957f\u5ea6\uff1a",f.length].join(" ")}),f=d,_=!0),i.render(n,f,c,h)}else s.length<u&&(a.reportBackup({extra:"Ald \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a"+n+["\u957f\u5ea6\u4e3a\uff1a",p,"\u5b9e\u9645\u8fd4\u56de\u957f\u5ea6\uff1a",s.length].join(" ")}),s=d),i.render(n,s,c,h);else i.render(n,d,c,h),a.reportBackup({extra:"Ald \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a"+n})})["catch"](function(e){i.render(n,d,c,h),a.reportBackup({extra:"Ald \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a"+n+"\uff0c\u8be6\u60c5 "+(e&&e.message)})})},_bg:function(e,t){e.attr("data-open")&&d("a",e).each(function(e,n){if(e=d(e),t[n]){var a=t[n].bg,i=t[n].bg2;a&&(e.css({background:"url("+a+") 0 0 no-repeat"}),i&&e.css("background-image","-webkit-image-set(url("+a+") 1x,url("+i+") 2x)"))}})},_getBgs:function(e){var t=[],n=this.banners[e],a=n&&n.open;if(a=s.isTrue(a))return s.each(n.alds,function(e){t.push({bg:e.bg,bg2:e.bg2})}),t},loadTanx:function(e,t){var n=this,i=e.all(".J_Tanx");if(1===i.length){new a(i.item(0));var o=i[0].id;this.subscribe("alimama:tanx",function(i){if(i.hook==="#"+o){var r="",l=n.banners[t]&&n.banners[t].tanxs;s.each(l,function(e){r+='<a class="J_Tanx hide" id="tanx-a-'+e.id+'" data-id="'+e.id+'"></a>'}),e.html(r),e.addClass("column-2");var c=e.all(".J_Tanx");new a(c.item(0)),new a(c.item(1))}})}else if(i.each(function(e){new a(e,function(){},(!0))}),5===t){var r,l=!1,c=function u(){if(!l){var t=d(".tanx-wrapper",this.el);if(t.all("img").length){var n=t.html();e.html(n).removeClass("J_TanxWrapper"),l=!0}else r=setTimeout(u,50)}};c()}},getSize:function(e){var t="_240x240.jpg";return e.hasClass("mod-5")?t=this.retina?"_350x1000q90.jpg":"_210x1000q90.jpg":e.hasClass("mod-6")?t=this.retina?"_350x350q90.jpg":"_190x190q90.jpg":e.hasClass("mod-4")&&(t=this.retina?"_350x350q90.jpg":"_200x200q90.jpg"),e.hasClass("mod-12")?t=this.retina?"_170x170q90.jpg":"_90x90q90.jpg":e.hasClass("mod-2")&&(t=this.retina?"_400x400q90.jpg":"_240x240q90.jpg"),this.webp&&this.retina&&(t+="_.webp"),t},collectData:function(){var e=d("textarea",this.el).val();try{this.banners=JSON.parse(e),s.each(this.banners,function(e,t){e&&e.alds&&12===e.alds.length&&s.each(e.alds,function(e){e.link.indexOf("//")===-1&&(e.link="//"+e.link+".tmall.com/")})}),this.bannerLen=this.banners.length}catch(t){this.reportError({extra:t&&t.message})}},_godlog:function(e){this.expouse[e]||(this.expouse[e]=!0,this.godlog("/tbindex.2016201863.1","",{frame:e},"H47671113","tmall frame "+e+" expouse"))},_getLogo:function(){var e=d(".hd-bg",this.el),t=!!e.attr("data-bg"),n="//img.alicdn.com/tfs/TB1thpcbUgQMeJjy0FjXXaExFXa-122-22.png",a="//img.alicdn.com/tfs/TB1hjDKX6ihSKJjy0FiXXcuiFXa-244-44.png";if(!t){var i=c.get("retina")?a:n,i=l.getImageAndCache(i);e.css({"background-image":"url("+i+")"})}},defaults:function(){return{expouse:{},store:{},name:"tbh-tmall",category:"ERROR_ALD_Load_Crash"}}}),e=t}(),kgHome2017130CConveLayoutjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="conve-bd-box" tabindex="-1">\n  <a href="javascript:;" target="_self" class="conve-bd-box-close J_conveClose tb-ifont" data-spm-click="gostr=/tbindex;locaid=d1;name=\u5173\u95ed\u4fbf\u6c11\u670d\u52a1\u6d6e\u5c42" aira-label="\u5173\u95ed\u6d6e\u5c42">&#xe613;</a>\n  ',_.each(data.names,function(e,t){__p+='\n  <div class="conve-bd-item J_Conve_'+(null==(__t=e)?"":__t)+' loading">\n    <div class="conve-bd-loading"></div>\n  </div>\n  '}),__p+="\n</div>";return __p}}(),kgHome2017130CFocusItemjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<a href="'+(null==(__t=data.targetUrl)?"":__t)+'" ',data.spm&&(__p+='data-spm-ab="'+(null==(__t=data.spm)?"":__t)+'"'),__p+='>\n  <img src="'+(null==(__t=$runtime.image(data.imgUrl,"290x290","400x400","q90",!0))?"":__t)+'" alt="'+(null==(__t=data.name||"\u7126\u70b9\u56fe")?"":__t)+'">\n</a>';return __p}}(),kgHome2017130CNavIndex=function(e){function t(e,n){this.el=a(e),this.conf=n,t.superclass.constructor.apply(this)}var n=aliPattern,a=node.all,i=util,o=_url_;return n.extend(t,{init:function(){if(this.el.hasClass("nav11")){try{var e=(o.parse(location.href,!0).query||{}).scheduleDate;if(e){e=e.split(" ");var t=e[0].split("-"),n=e[1].split(":"),a=t[0],r=t[1]-1,s=t[2],l=n[0],c=n[1],d=n[2];e=new Date(a,r,s,l,c,d).getTime();var u=new Date(2017,11,1,0,0,0).getTime();e&&i.now()<u&&(isNaN(e)||(this.mockTime=e))}}catch(h){}this.countdown()}},countdown:function(e){var t=this,n=this.getStatus(e);if(n){if(!this.countdownEl){var i='<div class="countdown-wrapper fl"><span class="countdown-inner"></span><span class="bar"></span><span class="lave"></span></div>';a(".nav",this.el).append(i);var o=a(".countdown-inner",this.el);if(a(".nav-bd").offset().top-o.offset().top<0)return void o.remove();this.countdownEl=o}this.countdownEl.html(n.msg),this.lastStatus?this.lastStatus.center!==n.center&&(n.center?this.countdownEl.addClass("center"):this.countdownEl.removeClass("center")):n.center?this.countdownEl.addClass("center"):this.countdownEl.removeClass("center"),this.lastStatus=n}else a(".countdown-wrapper",this.el).remove();setTimeout(function(){t.mockTime&&(t.mockTime+=1e3),t.countdown()},1e3)},getStatus:function(e){function t(e,t,n,a,i,o){return new Date(e,t,n,a,i,o).getTime()}function n(e){return e<10?"0"+e:""+e}function a(e){var t=e.split("");return i.substitute('<span class="bg">{decade}</span><span class="bg unit">{unit}</span>',{decade:t[0],unit:t[1]})}var o=this.getTime();this.time||(this.time={longBefore:t(2017,11,1,0,0,0),dayBefore:t(2017,11,11,0,0,0),readyStart:t(2017,11,11,23,50,0),start:t(2017,11,12,0,0,0),readyEnd:t(2017,11,12,23,50,0),end:t(2017,11,12,23,59,59)});var r=this.time;if(!(o<r.longBefore)){if(o>=r.longBefore&&o<=r.dayBefore){var s=(r.dayBefore-o)/864e5;return s=Math.ceil(s),s=n(s+1),{msg:'\u8ddd\u53cc12\u5f00\u5e55\u5269<span class="countdown">'+a(s)+"</span>\u5929",center:!1}}if(o>=r.dayBefore&&o<r.readyStart){var l=r.start-o,c=Math.floor(l/1e3),d=parseInt(c/3600,10)%24,u=parseInt(c/60,10)%60,h=parseInt(c%60,10);return d=n(d),u=n(u),h=n(h),{msg:['\u8ddd\u53cc12\u5269<span class="countdown">',a(d),":",a(u),":",a(h),"</span>"].join(""),center:!1}}if(o>=r.readyStart&&o<r.start)return{msg:"\u53cc12\u5373\u5c06\u5f00\u59cb",center:!0};if(o>=r.start&&o<r.readyEnd){var l=r.end-o,c=Math.floor(l/1e3),d=parseInt(c/3600,10)%24,u=parseInt(c/60,10)%60,h=parseInt(c%60,10);return d=n(d),u=n(u),h=n(h),{msg:['\u8ddd\u7ed3\u675f\u5269<span class="countdown">',a(d),":",a(u),":",a(h),"</span>"].join(""),center:!1}}return o>=r.readyEnd&&o<r.end?{msg:"\u53cc12\u5373\u5c06\u7ed3\u675f",center:!0}:void 0}},getTime:function(){return this.mockTime?this.mockTime:i.now()},defaults:function(){return{name:"nav"}}}),e=t}(),kgHome2017130CBeltItemjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)_.each(data.list,function(e,t){if(__p+="\n",t<6){__p+='\n<li class="'+(null==(__t=5===t?"last":"")?"":__t)+'">\n  <a href="'+__e(e.link||e.clickUrl)+'" class="clearfix" role="listitem" aria-posinset="'+(null==(__t=t)?"":__t)+'" aria-setsize="'+(null==(__t=data.length)?"":__t)+'" >\n    <div class="wrap-img">\n      <img class="a-all" src="'+__e($runtime.image(e.img||e.picUrl,"80x80","160x160","q90",!0))+'" aria-labelledby="belt-item-tl-'+(null==(__t=t)?"":__t)+'"/>\n    </div>\n    <div class="right">\n      <h4 id="belt-item-tl-'+(null==(__t=t)?"":__t)+'">'+(null==(__t=e.type||e.title)?"":__t)+'</h4>\n      <p class="subtitle">'+(null==(__t=e.info||e.subtitle)?"":__t)+'</p>\n      <p class="extra">\n      ';var n=e.gNum||e.pop;__p+="\n      ",n=n?'<i class="tb-ifont">&#xe618;</i>\u4eba\u6c14'+n:"\u6700\u65b0\u53d1\u73b0",__p+="\n      "+(null==(__t=n)?"":__t)+"\n      </p>\n    </div>\n  </a>\n</li>\n"}__p+="\n"}),__p+="\n\n    ";return __p}}(),kgHome2017130CommonPipeIndex=function(e){var t=cookie,n=util;return e={load:function(e){var a=this,i=e.len,o=e.validator,r=e.normal,s={cna:t.get("cna")};return e.extra&&(s=n.mix(s,e.extra)),this.xctrl({data:this.conf,key:["list","modules"],request:"taobao",extra:s}).then(function(e){a._renderHead(r,e.modules);var t=e&&e.list&&e.list[0]&&e.list[0].item,s=void 0;if(t&&t.length>=i){if(n.isFunction(o)){var l=o(t,e.modules);return l.valid?(a.offline.setItem(a.cacheName,JSON.stringify(t)),t):a.getCache(l.message)}return a.offline.setItem(a.cacheName,JSON.stringify(t)),t}return s=t?"code: 201, desc"+i+":"+t.length:"code:102",a.getCache(s)},function(e){return a._renderHead(r),a.getCache(e&&e.message)})},getCache:function(e){var t=this.offline.getItem(this.cacheName);return t?(this.reportCache(e),t=JSON.parse(t)):this.backup(e)},backup:function(e){var t=this,n=this.name||this.backupName;return this.use("p/tbh-"+n+"/index",function(n){return t.reportCDN(e),n},function(e){t.reportError("cdn"+e&&e.message)})},validatorError:function(e,t,n){var a=n.length?", badcase: "+n.join(","):"";return{valid:!1,message:"code: 202, desc: "+e.length+":"+t.length+a}},_renderHead:function(e,t){e?this.renderHead(t):this.renderHeadBar(t)}}}(),kgHome2017130CAppItemjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var head=data.head&&data.head[0];__p+="\n<h3>\n  ",__p+=head.link?'\n    <a href="'+__e(head.link)+'">'+(null==(__t=head.name)?"":__t)+"</a>\n  ":"\n    "+(null==(__t=head.name)?"":__t)+" \n  ",__p+='\n  <a class="more" href="'+__e(head.more)+'">\u66f4\u591a <i class="tb-ifont">&#xe62e;</i></a>\n</h3>\n\n<ul class="apps-nav clearfix">\n  ',_.each(data.apps,function(e,t){__p+="\n  ",t<=9&&(__p+='\n  <li class="nav" data-spm-ab="apps-'+(null==(__t=e.spm)?"":__t)+'">\n    <a href="'+(null==(__t=e.link?e.link:"javascript:;")?"":__t)+'" ',"1"===e.log&&(__p+="onclick=\"javascript:goldlog.record('/"+(null==(__t=e.logkey)?"":__t)+"','','','"+(null==(__t=e.gokey)?"":__t)+"')\" "),__p+='>\n      <img src="'+__e(e.img)+'" alt="\u624b\u673aapp - '+(null==(__t=e.name)?"":__t)+'" class="app-icon" />\n    </a>\n    <div class="app-qr">\n      <img class="J_QRCode" data-src="'+(null==(__t=e.qr)?"":__t)+'_80x80.jpg" src="//g.alicdn.com/s.gif" alt="\u4f7f\u7528\u624b\u673a\u626b\u63cf'+(null==(__t=e.name)?"":__t)+'\u7684\u4e8c\u7ef4\u7801" />\n      <p>\u626b\u4e00\u626b'+(null==(__t=e.name)?"":__t)+"</p>\n    </div>\n  </li>\n   "),__p+="\n  "}),__p+="\n</ul>"}return __p}}(),kgHome2017130CMemberLoginjsthtml=function(exports){return exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="member-column-4">\n  <a href="//buyertrade.taobao.com/trade/itemlist/list_bought_items.htm?action=itemlist/BoughtQueryAction&event_submit_do_query=1&tabCode=waitConfirm">\n    <strong>'+(null==(__t=data.a)?"":__t)+'</strong>\u5f85\u6536\u8d27\n  </a>\n  <a href="//buyertrade.taobao.com/trade/itemlist/list_bought_items.htm?action=itemlist/BoughtQueryAction&event_submit_do_query=1&tabCode=waitSend">\n    <strong>'+(null==(__t=data.d)?"":__t)+'</strong>\u5f85\u53d1\u8d27\n  </a>\n  <a href="//buyertrade.taobao.com/trade/itemlist/list_bought_items.htm?action=itemlist/BoughtQueryAction&event_submit_do_query=1&tabCode=waitPay">\n   <strong>'+(null==(__t=data.b)?"":__t)+'</strong>\u5f85\u4ed8\u6b3e\n  </a>\n  <a href="//buyertrade.taobao.com/trade/itemlist/list_bought_items.htm?action=itemlist/BoughtQueryAction&event_submit_do_query=1&tabCode=waitRate">\n    <strong>'+(null==(__t=data.c)?"":__t)+"</strong>\u5f85\u8bc4\u4ef7\n  </a>\n</div>";return __p}}(),kgHome2017130CNoticeIndex=function(e){function t(e){this.el=e,t.superclass.constructor.apply(this)}var n=aliPattern,a=node,i=aliSlide,o=a.all,r=util,s=promise;return n.extend(t,{init:function(){this.bind()},bind:function(){var e=this;r.load(function(){e._godlog("\u516c\u544a")}),this.el.delegate("mouseenter",".J_Enter",function t(e){var n=o(e.currentTarget),a=n.index(),s=this;this.slide=new i(this.el,{contentClass:"notice-bd",pannelClass:"mod",navClass:"notice-hd",eventType:"mouseenter",defaultTab:a+1}),this._show(r.trim(n.text()),a),this.el.undelegate("mouseenter",".J_Enter",t,this),this.slide.on("beforeSwitch",function(e){var t=o(e.navnode).text();s._show(t,e.index)})},this)},_show:function(e,t){this.store[e]||0===t||(this._render(t,this.slide.pannels.item(t)),this._godlog(e))},_render:function(e,t){var n=this;this.getList(e).then(function(e){var n=[];e&&(r.each(e.items,function(e){e.enhance=e.enhance===!0||"true"===e.enhance,e.enhance=e.enhance?"h":"",n.push(r.substitute('<li><a href="{link}" class="{enhance}">{text}</a></li>',e))}),o(t).html(n.join("")))})["catch"](function(e){n.reportError({extra:{message:e&&e.message,type:"render"}})})},getList:function(e){var t=this;return this.category?s.resolve(this.category[e]):this.jsonp({url:this.url,cache:!0,data:{ids:this.ids},jsonpCallback:"tbhome_"+this.ids}).then(function(n){var a=t.getVal(n,e);return a?a:t.backup(e,"empty")},function(n){return t.backup(e,n&&n.message)})["catch"](function(e){t.reportError({extra:e&&e.message})})},backup:function(e,t){var n=this;return this.tarzan({url:this.url,data:{ids:this.ids}}).then(function(a){var i=n.getVal(a,e);if(i)return n.reportCDN({extra:t}),i;throw new Error("cdn empty")})},getVal:function(e,t){var n=e&&e[this.ids]&&e[this.ids].value;if(n&&n.category)return this.category=n.category,this.category[t]},_godlog:function(e){this.store[e]||(this.store[e]=!0,this.godlog("/tbindex.2016092702.notice","EXP",{name:e},"H1482418995","\u516c\u544a\u66dd\u5149\uff1a"+e))},defaults:function(){return{store:{},name:"tbh-notice",url:"//tce.alicdn.com/api/data.htm",ids:"1016988"}}}),e=t}(),kgHome2017130CHeadlineItemjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<h3 class="headline-hd mod-hd">\n  <em>\u6dd8\u5b9d\u5934\u6761</em>\n  <p>\n    ',data.hd.qrcode&&(__p+='\n    <span class="qr-wrapper">\n      <span class="tb-ifont tb-qr">&#xe610;</span>\n      <span class="a-all">\n        <img src="'+(null==(__t=data.hd.qrcode)?"":__t)+'" alt="">\n        <em>\u624b\u673a\u6dd8\u5b9d\u626b\u7801</em>\n      </span>\n    </span>\n    '),__p+='\n    <span class="subtitle">\u8ba9\u4f60\u7684\u751f\u6d3b\u66f4\u6709\u8da3</span>\n  </p>\n</h3>\n',data.hd.more&&(__p+='\n<a class="more" href="'+(null==(__t=data.hd.more)?"":__t)+'">\u66f4\u591a <i class="tb-ifont">&#xe62e;</i></a>\n'),__p+='\n<div class="headline-bd" role="list">\n  ',_.each(data.list,function(e,t){__p+='\n  <div class="mod ',0!==t&&(__p+="hide"),__p+='" role="listitem">\n    <a href="'+__e(e.link||e.url)+'">\n      <img class="a-opacity" src="'+(null==(__t=$runtime.image(e.img||e.pic,"120x120","250x250","q90",!0))?"":__t)+'" alt="\u65b0\u95fb\u56fe\u7247"/>\n      <h4>'+__e(e.title||e.name)+"</h4>\n      <p>"+__e(e.detail||e.dec)+"</p>\n    </a>\n  </div>\n  "}),__p+="\n</div>";return __p}}(),kgHome2017130CDecorationsItemjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="decorations-item '+(null==(__t=data.classname)?"":__t)+'" style="background:url('+__e(data.img)+") no-repeat;width:"+(null==(__t=data.width)?"":__t)+"px;height:"+(null==(__t=data.height)?"":__t)+"px;z-index:"+(null==(__t=data.zIndex?data.zIndex:3)?"":__t)+"; ",data.top&&(__p+=" top: "+(null==(__t=data.top)?"":__t)+"px; "),__p+=" ",data.left&&(__p+="left: "+(null==(__t=data.left)?"":__t)+"px; "),__p+=";",data.right!==undefined&&(__p+="right: "+(null==(__t=data.right)?"":__t)+"px; "),__p+='">\n</div>\n\n';return __p}}(),kgHome2017130CTanxIndex=function(e){var t=kgHome2017130LibTanx;return e=function(e){new t(e)}}(),kgHome2017130CSearchSticky=function(e){var t=_ua_,n=node,a=n.all,i=a(window),o=aliSession,r=function(){t.ie&&t.ie<=8||this.init()};return r.prototype.init=function(){var e="wrap-fixed",t=!1,n=!1,r=a("#J_SiteNav"),s=r.height(),l=a(".J_Cup"),c=a(".J_Top"),d=function(){var r=i.scrollTop(),d=l.offset().top;r>d+100?(t||(t=!0,l.addClass(e),window.TB.isFixed&&c.animate({
top:s},{duration:.2,easing:"easeOut"})),!n&&o.get("sugEl")&&(n=!0,o.get("sugEl").css({position:"fixed",top:window.TB.isFixed?s+39:39})),a("#J_SearchFt").hide()):(t&&(t=!1,c.css("top",0),l.removeClass(e)),n&&o.get("sugEl")&&(n=!1,o.get("sugEl").css({position:"absolute",top:d+91})),a("#J_SearchFt").show(),a("#J_SearchIcon").show())};d(),i.on("scroll",d)},e=r}(),kgHome2017130CSearchTmalljsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="search-hots">\n  ',_.each(data.list,function(e,t){__p+='\n  <a href="http://list.tmall.com/search_product.htm?sourceId=tb.index&commend=all&q='+(null==(__t=e.query)?"":__t)+"&from=tbmain_1."+(null==(__t=t)?"":__t)+'_hq" ',e.highlight&&(__p+=' class="h" '),__p+=">"+(null==(__t=e.query)?"":__t)+"</a>\n  "}),__p+="\n</div>";return __p}}(),kgHome2017130CSearchAlimamajsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)_.each(data,function(e){__p+='\n<a href="'+(null==(__t=e.link)?"":__t)+'" ',e.highlight&&(__p+=' class="h" '),__p+=">"+(null==(__t=e.query)?"":__t)+"</a>\n"}),__p+="\n";return __p}}(),kgHome2017130CCornerIndex=function(e){function t(e){function t(e){a({category:"ERROR_Corner",msg:e||"\u811a\u672c\u8def\u5f84\u4e0d\u5b58\u5728"})}var n=i(".corner-inner",e);if(0!==n.length){var o=n.attr("data-path");return o?void KISSY.use(o,function(e,t){},function(e){t("\u811a\u672c\u52a0\u8f7d\u5931\u8d25"+e&&e.message)}):void t()}}var n=node,a=aliPatternLibReporter,i=n.all;return e=t}(),kgHome2017130CFixedtoolItemjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<span class="tb-ifont wangwang">&#xe605;</span>\n',_.each(data,function(e,t){__p+="\n",e.clickme=_.isTrue(e.clickme),__p+='\n  <a href="'+(null==(__t=e.url?e.url:7==t?"http://report.12377.cn:13225/toreportinputNormal_anis.do?spm=a21bo.50862.1997523009.48.28689e73weBwJ0&file=toreportinputNormal_anis.do%E7%82%B9%E8%BF%9B%E5%8E%BB%E6%98%AF%E8%BF%99%E4%B8%AA%E7%BD%91%E5%9D%80":"#")?"":__t)+'" class="a-all fixedtool-'+(null==(__t=e.index)?"":__t)+" "+(null==(__t=0===t?"on":"")?"":__t)+'" data-tool="'+(null==(__t=e.tool)?"":__t)+'" aria-hidden="true" data-spm-click="gostr=/tbindex;locaid=d'+(null==(__t=t+1)?"":__t)+";name=fixed-"+(null==(__t=t+1)?"":__t)+'">'+(null==(__t=e.name)?"":__t),e.clickme&&(__p+="<em></em> "),__p+="</a>\n"});return __p}}(),kgHome2017130CSuperbannerItemjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<a href="'+(null==(__t=data.logo.logoUrl)?"":__t)+'" class="taobao1212 fl">\n  <img src="'+(null==(__t=data.logo.logoImg)?"":__t)+'" alt="\u6dd8\u5b9d618">\n</a>\n<div class="list fl" data-spm-ab="taobao">\n  ',_.each(data.list,function(e,t){__p+='\n    <a href="'+(null==(__t=e.link)?"":__t)+'" class="fl item-'+(null==(__t=t+1)?"":__t)+' item">\n      <div class="desc-wrapper">\n        <h4 class="title">'+(null==(__t=e.title)?"":__t)+'</h4>\n        <p class="subtitle">'+(null==(__t=e.subtitle)?"":__t)+'</p>\n      </div>\n      <div class="img-outer">\n        <img src="'+(null==(__t=$runtime.image(e.img,"80x80","160x160","q90",!0))?"":__t)+'" alt="'+(null==(__t=e.title)?"":__t)+'">\n      </div>\n    </a>\n    '}),__p+='\n</div>\n<!--<div class="mask"></div>-->';return __p}}(),kgHome2017130LibLog=function(e){function t(){r.load(function(){var e=o.get("tbVersion");KISSY.use("kg/home-2017/"+e+"/lib/monitor")},15e3),this.init()}var n=node,a=aliOffline,i=aliPatternLibReporter,o=aliSession,r=util,s=n.all,l=(new a,aliPattern);return l.extend(t,{init:function(){var e=this;this.rewriteJSTracker(),r.load(function(){e.addClickTracker(),e.scrollPV(),e.modulePVDots()}),window.addEventListener("unhandledrejection",function(e){var t=r.computeStackTraceFromStackProp(e.reason);i({category:"ERROR_PROMISE",msg:JSON.stringify(t)})}),s(document).on("private:error",function(t){var n=t&&t.detail;n||(n=t&&t.originalEvent&&t.originalEvent.detail),n&&"tanx"===n.source&&e.broadcast("alimama:tanx",n);try{i({category:"ERROR_PRIVATE_ERROR",msg:JSON.stringify(t)},"warn")}catch(a){}})},modulePVDots:function(){var e=[];s("div[preload-distance]").each(function(t){var n=s(t),a=n.offset().top;e.push({el:n,top:a})}),e=e.sort(function(e,t){return e.top>t.top?1:-1});var t,n=s(window);n.on("scroll",t=function(){var a=n.scrollTop()+n.height(),o=!0;r.each(e,function(e){var t=e.el,n=e.top;if(e.loaded||(o=!1),a>=n&&t.hasClass("tbh-loaded")){e.loaded=!0;var r=(t.attr("tms")+"-"+(t.attr("tms-datakey")||""),t.attr("data-name")||""),s=t.one('a[href*="pvid"]'),l=s&&s.attr("href"),c=l&&l.match(/pvid=([^&$#]*)/);i({msg:"exposure log "+r+": {tag}",goldlog:["/tbindex.20160406.1","",{name:r,pvid:c&&c[1]||""},"H46985920"]})}}),o&&n.detach("scroll",t)}),t()},scrollPV:function(){for(var e=[],t=s(window),n=[],a=700,o=350,l=0;l<30;l++)e.push(a+o*l);var c;t.on("scroll",c=function(){var a=t.scrollTop();r.each(e,function(e){a>=e&&!r.inArray(e,n)&&(n.push(e),i({goldlog:["/tbindex.2014.10","",{top:e},"H46896546"],msg:e+"px \u89e6\u53d1\u57cb\u70b9"}))}),e.length==n.length&&t.detach("scroll",c)}),c()},addClickTracker:function(){function e(e,t,n,a){var i,o=s(e);o&&!o.attr("data-spm-click")&&(t=t?";name="+t:"",a=a||"/tbindex",n=n||"d2016",i="gostr="+a+";locaid="+n+t,o.attr("data-spm-click",i))}e(".J_Conve a[href*='zhaocaibao.alipay.com']","\u8682\u8681\u91d1\u670d\u62db\u8d22\u5b9d\u9996\u9875"),e(".J_QrFt","\u4e8c\u7ef4\u7801\u5173\u95ed\u6309\u94ae"),e(".J_PromoOpt .prev","\u9996\u7126prev\u6309\u94ae","d500"),e(".J_PromoOpt .next","\u9996\u7126next\u6309\u94ae","d600"),e(".J_TmallOpt .prev","\u5929\u732bprev\u6309\u94ae","d500"),e(".J_TmallOpt .next","\u5929\u732bnext\u6309\u94ae","d600")},rewriteJSTracker:function(){var e=window.JSTracker2.push,t=this;window.JSTracker2.push=function(n){if(n&&n.msg&&n.msg.indexOf&&n.msg.indexOf("||")!==-1){var a=n.msg.split("||")[1],i=void 0;if(r.isString(a))try{if(a=JSON.parse(a),i=t.getModule(a),n.msg.indexOf("\u5bb9\u707e\u6570\u636e\u4e0d\u5b58\u5728")!==-1)return;if(i)return void i.report({data:{type:"tce"},msg:n.msg.split("||")[0]})}catch(o){}}e.apply(window.JSTracker2,arguments)}},getModule:function(e){r.isArray(e)&&(e=e[0]);var t=o.get("modules"),n=void 0;return t&&e.tce_sid&&r.each(t,function(t){t.dataStr&&t.dataStr.indexOf(e.tce_sid)!==-1&&(n=t.mod)}),n}}),e=t}(),kgHome2017130CommonHeadItemBarjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+="\n",data.itemLayer&&(__p+='\n<div class="'+(null==(__t=data.classname)?"":__t)+'-inner">\n'),__p+='\n  <h3 class="'+(null==(__t=data.classname)?"":__t)+'-hd mod-hd bar-hd">\n    <em>'+(null==(__t=data.title)?"":__t)+"</em>\n    ",data.morelink&&(__p+='\n    <span class="tb-fn clearfix">\n      <a class="more" href="'+(null==(__t=data.morelink)?"":__t)+'">\u66f4\u591a <i class="tb-ifont">&#xe62e;</i></a>\n    </span>\n    '),__p+='\n  </h3>\n  <div class="list clearfix"></div>\n  ',data.itemLayer||(__p+='\n  <div class="hotsale-ft">\n    <i class="hotsale-end">END</i>\n  </div>\n  '),__p+="\n\n",data.itemLayer&&(__p+="\n</div>\n");return __p}}(),kgHome2017130CommonHeadItemjsthtml=function(exports){return exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="'+(null==(__t=data.classname)?"":__t)+'-inner">\n  <h3 class="'+(null==(__t=data.classname)?"":__t)+'-hd mod-hd com-hd">\n    <em>'+(null==(__t=data.title)?"":__t)+"</em>\n    ",data.link&&(__p+='\n    <a href="'+(null==(__t=data.link)?"":__t)+'" class="fl">\n    '),__p+=' \n    <img class="mlogo fl" src="'+(null==(__t=data.logo)?"":__t)+'" title="'+(null==(__t=data.title)?"":__t)+'"/>\n    ',data.link&&(__p+="\n    </a>\n    "),__p+="\n    <p>\n      ",data.qr&&(__p+=' \n      <span class="qr-wrapper">\n        <span class="tb-ifont tb-qr">&#xe610;</span>\n        <span class="a-all">\n          <img src="'+(null==(__t=data.qr)?"":__t)+'" alt="'+(null==(__t=data.title)?"":__t)+'">\n          <em>\u624b\u673a\u6dd8\u5b9d\u626b\u7801</em>\n        </span>\n      </span>\n      '),__p+='\n      <span class="subtitle '+(null==(__t=data.qr?"":"ml6")?"":__t)+'">'+(null==(__t=data.subtitle)?"":__t)+'</span>\n    </p>\n    <span class="tb-fn clearfix">\n      ',_.isTrue(data.switcher)&&(__p+='\n      <span class="switch">\u6362\u4e00\u6362</span>\n      '),__p+="\n      ",data.moreLink&&(__p+='\n      <a class="more" href="'+(null==(__t=data.moreLink)?"":__t)+'">\u66f4\u591a <i class="tb-ifont">&#xe62e;</i></a>\n      '),__p+='\n    </span>\n  </h3>\n  <ul class="list clearfix '+(null==(__t=data.classname)?"":__t)+'-list"></ul>\n</div>\n\n\n';return __p}}(),kgHome2017130LibUtil=function(e){var t=util,n=node.all;return t.isHighDensity=function(){return window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches)||window.devicePixelRatio&&window.devicePixelRatio>1.3},t.frame=function(e){window.requestNextAnimationFrame(function(){e()})},t.load=function(e,a){function i(){a?setTimeout(function(){t.frame(e)},a):t.frame(e)}/loaded|complete/.test(document.readyState)?i():n(window).on("load",i)},t.getKey=function(e,t){if(e&&e[t])return e[t]},t.getItem=function(e,n){if(e&&t.isArray(e)&&e.length>n)return e[n]},t.isElementInViewport=function(e){var t=e.getBoundingClientRect(),a={width:t.width,height:t.height,top:t.top,left:t.left};return a.height||(a.height=n(e).height()),a.width||(a.width=n(e).width()),a.top+a.height>0&&a.left+a.width>0&&a.left<=(window.innerWidth||document.documentElement.clientWidth)&&a.top<=(window.innerHeight||document.documentElement.clientHeight)},t.computeStackTraceFromStackProp=function(e){if("undefined"!=typeof e.stack&&e.stack){for(var t,n,a,i="?",o=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,r=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,c=/\((\S*)(?::(\d+))(?::(\d+))\)/,d=e.stack.split("\n"),u=[],h=(/^(.*) is undefined$/.exec(e.message),0),m=d.length;h<m;++h){if(n=o.exec(d[h])){var p=n[2]&&0===n[2].indexOf("native"),f=n[2]&&0===n[2].indexOf("eval");f&&(t=c.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),a={url:p?null:n[2],func:n[1]||i,args:p?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=r.exec(d[h]))a={url:n[2],func:n[1]||i,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=s.exec(d[h])))continue;var f=n[3]&&n[3].indexOf(" > eval")>-1;f&&(t=l.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==h||n[5]||"undefined"==typeof e.columnNumber||(u[0].column=e.columnNumber+1),a={url:n[3],func:n[1]||i,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!a.func&&a.line&&(a.func=i),u.push(a)}return u.length?{name:e.name,message:e.message,stack:u}:null}},e}(),kgHome2017130CAdIndex=function(e){function t(e){this.innerEl=n(".tbh-ad-inner",e),t.superclass.constructor.apply(this)}var n=node.all,a=kgHome2017130LibTanx,i=util,o=aliPattern,r=aliPatternLibImage;return o.extend(t,{init:function(){var e=this,t=n("textarea",this.innerEl);if(t.length){var o=t.attr("data-type");this.configData=JSON.parse(i.trim(t.val()));var r=this.configData.pid;if(1==o)this.renderTanx(r),this.type=1,window.tanx_c=window.tanx_c||{},window.tanx_c[r]={CustomShow:function(t){try{if(t.tmpl){var n=JSON.parse(t.tmpl);if(n.image1&&n.image2&&n.image3)return void e.renderBg(n)}e.backup({message:"empty"})}catch(a){e.backup({message:a.message})}}},new a(this.innerEl);else{if(0!=o)return;this.renderTanx(r),new a(this.innerEl),this.type=0}this.bind()}},renderTanx:function(e){this.innerEl.html('<a class="J_Tanx" style="display:none!important" id="tanx-a-'+e+'" data-id='+e+"></a>")},renderBg:function(e){this.innerEl.html('<div class="tbh-ad-wrapper">\n        <img alt="\u5e7f\u544a" src="'+r.getNewUrl(e.image2,{webp:!0})+'"/>\n        <span class="tbh-ad-banner-tag">\u5e7f\u544a</span>\n      </div>\n      <img alt="\u5de6\u4fa7\u6c1b\u56f4" src="'+r.getNewUrl(e.image1,{webp:!0})+'"  class="ad-left-item"/>\n      <img alt="\u53f3\u4fa7\u6c1b\u56f4" src="'+r.getNewUrl(e.image1,{webp:!0})+'" class="ad-right-item"/>'),this.responesive(),this.lazyBind()},bind:function(){var e=this;n("document");this.subscribe("alimama:tanx",function(t){t&&t.hook&&t.hook==="#tanx-a-"+e.configData.pid&&e.backup(t)})},lazyBind:function(){n(window).on("resize",i.buffer(this.responesive,100))},responesive:function(){var e,t=n(window).width(),a=n("body"),i=n(".tbh-ad-banner-tag",this.innerEl);e=a.hasClass("s1190")?-(t-990)/2:(t-1190)/2<365?-(t-1190)/2:-365,i.css({right:e})},backup:function(e){0==this.type?this.innerEl.html('<a class="tbh-ad-banner" href="'+this.configData.link+'"><img src="'+this.configData.img+'"><span class="tbh-ad-banner-tag">\u5e7f\u544a</span></a>'):this.renderBg({image1:this.configData.leftImg,image2:this.configData.img,image3:this.configData.rightImg}),this.reportBackup({extra:e})},defaults:function(){return{name:"ad",category:"ALIMAMA_AD"}}}),e=t}(),kgHome2017130CServiceIndex=function(e){function t(e){this.el=e,t.superclass.constructor.apply(this)}var n=aliPattern,a=promise,i=node,o=util,r=kgHome2017130CServiceCatjsthtml,s=kgHome2017130CServiceItemjsthtml,l=kgHome2017130CServiceBannerjsthtml,c=i.all,d=-1,u={},h="service",m="cache-service-banners",p=m+"-validator",f={};return n.extend(t,{init:function(){this.floatEl=c(".service-float",this.el),this.bind(),this.collectData(),this.showHotTags(),this.serviceEl=c(".J_Service",this.el)},bind:function(){var e=this,t=c(".service-bd",this.el),n=c("li",t),a=this.floatEl;this.el.delegate("mouseenter",".J_Cat",function(t){var i=c(t.currentTarget);e.enterTime&&clearTimeout(e.enterTime),e.enterTime=setTimeout(function(){d=i.index(),n.removeClass("on"),i.addClass("on"),a.fadeIn(.3),e.showFloat()},100)}),this.el.delegate("mouseleave",".service-bd",function(t){var i=c(t.relatedTarget||t.toElement||t.fromElement);i.hasClass("service-float")||i.parent(".service-float")||(e.enterTime&&clearTimeout(e.enterTime),d=-1,n.removeClass("on"),a.hide())}),a.on("mouseenter",function(){d>-1&&(e.enterTime&&clearTimeout(e.enterTime),n.item(d).addClass("on"),a.fadeIn(.3),e.showFloat())}).on("mouseleave",function(t){var i=c(t.relatedTarget||t.toElement||t.fromElement);i.hasClass("service-bd")||i.parent(".service-bd")||(e.enterTime&&clearTimeout(e.enterTime),d=-1,n.removeClass("on"),a.hide())})},collectData:function(){for(var e=c(".J_Cat",this.el),t=[],n=[],a=0,i=e.length;a<i;a++){for(var o=c(e[a]),r=o.attr("data-groupid"),s=o.attr("data-closeper"),l=c("a",o),d=[],h=[],m=0,p=l.length;m<p;m++){var f=c(l[m]),_=f.attr("data-dataid");d.push(f.attr("data-cid")),h.push(_),n.push(_)}t.push({groupId:r,closePer:1==s,cids:d,dataids:h})}this.config=u=t,this.mids=n},showFloat:function(){var e=c(".service-float-item",this.el),t=c('.service-float-item[data-index="'+d+'"]',this.el);return d==-1||t.length?(e.hide(),void t.show()):(this.renderTo(s,{index:d},this.floatEl),e.hide(),c('.service-float-item[data-index="'+d+'"]',this.el).show(),this.renderModuleData(),this.renderBanners(),void this.godlog("/tbindex.2016092701.category","EXP",{index:d},"H1484266099","\u4e3b\u9898\u5e02\u573a\u6d6e\u5c42\u66dd\u5149\uff0c\u5e8f\u53f7\uff1a"+d))},renderBanners:function(){var e=this,t=d,n=u[t].groupId;this.fetchBanner(n).then(function(a){var i={recItemList:u[t].backup};a=a&&a.result||[];for(var o=0,r=a.length;o<r;o++)if(a[o]&&a[o].topicId==n&&a[o].recItemList&&a[o].recItemList.length>=6){i=a[o];break}i||e.reportError({msg:"\u5bb9\u707e\u5931\u8d25\uff0cbanner \u6570\u636e\u4e0d\u5b58\u5728",category:e.category.banner,extra:{topicId:n}});var s=c('.service-float-item[data-index="'+t+'"] .service-rmd-list',e.el);e.render(l,i,s),s.removeClass("loading")})["catch"](function(t){e.reportError({category:e.category.banner,extra:{topicId:n,msg:"\u6e32\u67d3\u5f02\u5e38\uff0c\u8be6\u60c5"+t&&t.message}})})},renderModuleData:function(){var e=this,t=d,n=u[t].dataids,a=[];this.requestModuleData(function(i){for(var o=0,s=n.length;o<s;o++){var l=n[o];i&&i[l]&&i[l].value&&a.push(i[l].value)}var d=c('.service-float-item[data-index="'+t+'"] .service-fi-links');e.render(r,a,d);d.removeClass("loading")})},requestModuleData:function(e){var t=this,n="tce_"+h;return f[n]?void(e&&e(f[n])):(this.moduleRenderQueue=this.moduleRenderQueue||[],this.moduleRenderQueue.push(e),void this.jsonp({url:"//tce.alicdn.com/api/data.htm",timeout:5,cache:!0,data:{ids:this.mids.join(",")},jsonpCallback:"tbh_service_cat"}).then(function(a){if(f[n]=a,!a||o.isEmptyObject(a))if(a=t.offline.getItem("cache-service-tce")){for(a=JSON.parse(a),e&&e(a);t.moduleRenderQueue.shift();)e&&e(a);t.reportCache({category:t.category.cat})}else t.getCatBackup(n,e);else for(t.offline.setItem("cache-service-tce",JSON.stringify(a)),e&&e(a);t.moduleRenderQueue.shift();)e&&e(a)},function(){var a=t.offline.getItem("cache-service-tce");if(a){for(a=JSON.parse(a),f[n]=a,e&&e(a);t.moduleRenderQueue.shift();)e&&e(a);t.reportCache({category:t.category.cat})}else t.getCatBackup(n,e)}))},fetchBanner:function(e){var t=this,n=this.fname;return new a(function(a,i){return f[t.fname]&&t.cacheTPP[e]?void a(f[t.fname]):t.cacheBannerData?void a(t.cacheBannerData):t.jsonp({url:"//tui.taobao.com/recommend?appid=2807",timeout:3}).then(function(o){if(t.hasTppRequest=!0,o&&o.result&&o.result.length>0){var r=[];f[n]=o;for(var s=0;s<3;s++)o.result[s]&&o.result[s].topicId&&r.push(o.result[s].topicId);for(var s=0,l=o.result.length;s<l;s++){var c=o.result[s],d=c&&c.topicId;d&&t.validator.array.minItems(c.recItemList,6)&&(t.cacheTPP[d]=!0)}return r.length&&t.offline.setItem("service-hot",r.join(",")),t.offline.setItem(m,JSON.stringify(o)),t.offline.setItem(p,JSON.stringify(t.cacheTPP)),void(t.cacheTPP[e]&&a(o))}var u=t.getCacheBanner(e);return u?void a(u):void i()},function(n){var o=t.getCacheBanner(e);o?a(o):i()})}).then(function(e){return e},function(){return t.getTCEBanner(e)})},getCacheBanner:function(e){var t=this.offline.getItem(m),n=this.offline.getItem(p);if(t&&n&&(t=JSON.parse(t),n=JSON.parse(n),f[this.fname]=t,n[e]))return this.reportCache({category:this.category.banner,extra:{topicId:e}}),t},showHotTags:function(){var e=this.offline.getItem("service-hot");if(e){e=e.split(",");for(var t=0,n=e.length;t<n;t++)c('.J_Cat[data-groupid="'+e[t]+'"] span',this.el).addClass("tbh-tag")}},getTCEBanner:function(e){var t=this,n=this.ids;return this.cacheBannerData?a.resolve():this.jsonp({url:"//tce.alicdn.com/api/data.htm",data:{ids:n}}).then(function(a){if(a&&a[n]&&a[n].value){var i=a[n].value.groups;return t.reportBackup({category:t.category.banner,msg:"\u8d70 tce \u515c\u5e95\u6570\u636e",extra:{topicId:e}}),t._setBannerBackup(i),t.cacheBannerData=a,i}return t.getBackupBanner(e)},function(n){return t.getBackupBanner(e)})},_setBannerBackup:function(e){var t=this;o.each(e,function(e){var n=t.getRetItem(e.groupId);n.backup=e.banners})},getRetItem:function(e){for(var t=0,n=u.length;t<n;t++)if(u[t].groupId===e)return u[t]},getCatBackup:function(e,t){var n=this;KISSY.use("p/tbh-service-cat/index",function(a,i){f[e]=i,n.reportCDN({category:n.category.cat}),t&&t(i)},function(e){t(),n.reportError({category:n.category.cat})})},getBackupBanner:function(e){var t=this;return this.use("p/tbh-service/index").then(function(n){return t.reportCDN({category:t.category.banner,extra:{topicId:e}}),t._setBannerBackup(n&&n.groups),t.cacheBannerData=n,n.groups},function(){t.reportError({category:t.category.banner,extra:{topicId:e}})})},defaults:function(){return{ids:"222256",name:"tbh-service",fname:"tpp_tbh-service",cacheTPP:{},category:{cat:"ERROR_service_cat_data_err",banner:"ERROR_service_banner_data_err"}}}}),e=t}(),kgHome2017130CPromoIndex=function(e){function t(e){this.el=e,this.optEl=this.el.all(".J_PromoOpt"),t.superclass.constructor.apply(this)}var n=kgHome2017130LibTanx,a=kgHome2017130LibAld,i=aliPattern,o=aliSession,r=aliSlide,s=node,l=util,c={},d=s.all;return i.extend(t,{init:function(){this._bind();var e=this.index=d(".promo-bd",this.el).attr("data-index")||0;e=parseInt(e);var t=window.location.search.slice(1),n=this.el.one(".mod-six");if(n&&t){var a=l.unparam(t);a&&null!==a.six?this.gosix=1:n.remove()}else n&&n.remove();this.initSlider(e)},_bind:function(){var e=this;this.el.delegate("click",".J_Prev",this._prev,this),this.el.delegate("click",".J_Next",this._next,this),this.subscribe("page:visibility",function(t){e.inViewport(t.hidden)}),d(window).on("resize scroll",l.throttle(function(t){e.inViewport(!1)},100))},inViewport:function(e){l.isElementInViewport(this.el[0])&&!e?this.isPlay||(this.activeSlide(!0),this.isPlay=!0):this.isPlay&&(this.isPlay=!1,this.activeSlide(!1))},activeSlide:function(e){e?this.slide&&this.slide.play():this.slide&&this.slide.stop()},initSlider:function(e){var t=this;if(this.slide=new r(this.el,{contentClass:"promo-bd",pannelClass:"mod",navClass:"promo-nav",effect:"hSlide",timeout:5e3,carousel:!0,autoSlide:!0,touchmove:!0,defaultTab:parseInt(e)}),this.el.on("mouseenter",function(){t.optEl.show()}),this.el.on("mouseleave",function(){t.optEl.hide()}),this.slide.on("beforeSwitch",function(e){var n=e.index;if(1!==c[n]){var a=e.pannelnode;t.loadContent(a,n)}c[n]||(c[n]=!0,t.godlog("/tbindex.promo.promo","EXP",{index:n},"H1476877900","\u9996\u7126\u7b2c "+n+" \u5e27\u66dd\u5149"))}),this.gosix)return void this.slide.go(6);this.renderTanx(),0==e&&e++;try{var n=this.slide.pannels.item(e);this.loadContent(n)}catch(a){this.reportError({extra:"switch {index}: "+(a&&a.message)})}},renderTanx:function(){this.el.all(".J_Tanx").each(function(e){var t=d(e),a=Number(t.attr("data-lazychance"));a=isNaN(a)?1:a;var i=Math.random()>=a;i&&(new n(t),t.removeClass("J_Tanx"))})},loadContent:function(e,t){var i=this,r=e.hasClass("J_Tanx"),s=e.hasClass("J_Ald");if(r)new n(e),e.removeClass("J_Tanx");else if(s){var l=e.attr("data-id");a.loader(l).then(function(t){var n=t&&t.data;return n?(a.render(l,n,o.get("webp")?"_q90_.webp":"_q90"),void i.addADTag(e)):i.backup(l,"empty")})["catch"](function(e){return i.backup(l,e&&e.message)}),e.removeClass("J_Ald")}r||s||(c[t]=1)},backup:function(e,t){try{a.loadTms(e),this.reportBackup({extra:"\u963f\u62c9\u4e01 "+e+" \u52a0\u8f7d\u5931\u8d25\uff0c\u8be6\u60c5\uff1a"+(t||"")})}catch(n){this.reportError()}},_prev:function(e){e.preventDefault(),this.slide.previous()},_next:function(e){e.preventDefault(),this.slide.next()},addADTag:function(e){var t=1==e.attr("data-show"),n=d("a",e);t&&0==d(".ad-tags",n).length&&n.append('<span class="ad-tags">\u5e7f\u544a</span>')},defaults:function(){return{name:"tbh-promo",category:"ERROR_ALD_Load_Crash",isPlay:!0}}}),e=t}(),kgHome2017130CConveIndex=function(e){function t(e){this.el=e,this.init()}var n=node,a=aliPatternLibReporter,i=aliPattern,o=kgHome2017130CConveLayoutjsthtml,r=n.all,s="/markets/tbhome/",l={game:s+"bianming-game",baoxian:s+"bianming-baoxian",trip:s+"bianming-trip",phone:s+"bianming-phone"},c={},d=!0,u="//www.taobao.com";return/(alicdn|taobao)\.com$/.test(window.location.host)&&(u="//"+window.location.host),"tms-preview.taobao.com"===window.location.host&&(u="//tms-preview.taobao.com/wh/tms/taobao/page"),i.extend(t,{init:function(){this.bind(),this.bindCloseAction()},bind:function(){this.el.delegate("mouseenter",".conve-float",this.showConveBox,this),this.el.delegate("mousemove",".conve-float",this.showConveBox,this),this.el.delegate("click",".conve-bd-box-close",this.closeConveBox,this)},showConveBox:function(e){var t=r(e.currentTarget);t.index();if(t.hasClass("conve-float")){var n=r(".conve",this.el),a=t.attr("data-name");c[a]||(d&&(d=!1,this._renderLayout(n),r(".conve-bd-item").hide()),this["goto"](t),c[a]=!0),n.addClass("conve_on"),this.el.one(".conve_on")&&(this.el.all(".conve-float").removeClass("selected"),t.addClass("selected")),t.addClass("selected"),r(".conve-bd-item").hide(),r(".conve-bd-item.J_Conve_"+a).show()}},_renderLayout:function(e){var t=[];r(".conve-float",e).each(function(e){var n=r(e),a=n.attr("data-name");a&&t.push(a)}),this.renderTo(o,{names:t},e),this.loadStyle()},"goto":function(e){try{var t=e.attr("data-name");if(!t)return;var n=r(".J_Conve_"+t,this.el);if(r(".J_convePop",this.el).hide(),!n.hasClass("loading"))return}catch(i){this.reportError({extra:"goto error"+this.el.all(".conve-list li").length})}this.ajax({url:u+l[t],cache:!1,dataType:"html"}).then(function(e){return e?void n.removeClass("loading").html(e,!0):void a({category:"Error_conve_load_html_err",msg:"get module: "+t+" fail"})},function(e){a({category:"Error_conve_load_html_err",msg:"get module: "+t+" fail, detail:"+e&&e.message})})},closeConveBox:function(){clearTimeout(this.timer),this.el.one(".conve").removeClass("conve_on"),this.el.all(".conve-float").removeClass("selected")},bindCloseAction:function(){var e=this;r("body").on("mousedown",function(t){var n=r(t.target),a=n.parent(".J_Module"),i=t.target.nodeName.toLowerCase();("body"===i||n.hasClass("cup")||a&&!a.parent(".J_Module")&&!a.hasClass("tbh-conve"))&&e.closeConveBox()})},loadStyle:function(){KISSY.getScript("//g.alicdn.com/tb-mod/tbh-conve-common/0.0.1/index-min.css")}}),e=t}(),kgHome2017130CFocusIndex=function(e){function t(e,n){this.el=e,this.conf=n,t.superclass.constructor.apply(this)}var n=aliPattern,a=node,i=(a.all,util),o=kgHome2017130CFocusItemjsthtml,r=cookie;return n.extend(t,{init:function(){this._parse();var e=this.backupData&&this.backupData.closePer;i.isTrue(e)||!this.conf?this._renderFirstPaint():this.load()},_parse:function(){try{return void(this.backupData=this.conf&&this.conf.moduleinfo||{})}catch(e){}},load:function(){var e=this;this.xctrl({data:this.conf,key:["list"],request:"taobao",extra:{cna:r.get("cna")}}).then(function(t){t&&t.list&&e.validator.array.minItems(t.list,1)&&(e.list=t.list),e._renderFirstPaint()})["catch"](function(t){e.reportError({extra:{err:t&&t.message,val:"\u6e32\u67d3\u9519\u8bef"}})})},_renderFirstPaint:function(){this._render(this.bannerRight,this.el)},_render:function(e,t){var n,a,r=null,s=[];if(i.each(this.list,function(t){t&&t.code===e&&(t.imgUrl&&t.targetUrl?r=t:s.push("img or link is empty"))}),!r){switch(e){case this.bannerRight:n=this.backupData.bannerLink,a=this.backupData.bannerImg,s.push(this.bannerRight)}n&&a?(r={targetUrl:n,imgUrl:a},this.reportBackup({extra:s.join(":")})):this.reportError({extra:s.join(":")})}r&&(this.render(o,r,t),r.trackinfo&&this.log(r.trackinfo))},log:function(e){var t=this;this.logCache.push(e),setTimeout(function(){t.logCache.length&&t.godlog("/tbindex.luban.luban","EXP","name="+t.logCache.join("::"),"H1476877899")},0)},defaults:function(){return{name:"tbh-focus",category:"ERROR_Data_tbh_focus",bannerRight:"pchome_first_banner_right",list:[],backupData:{},logCache:[]}}}),e=t}(),kgHome2017130CBeltIndex=function(e){function t(e,n){this.el=e,this.conf=n,t.superclass.constructor.apply(this)}var n=node,a=n.all,i=util,o=aliPattern,r=kgHome2017130CBeltItemjsthtml,s=kgHome2017130CommonPipeIndex;return o.extend(t,i.mix({init:function(){var e=this;this.load({len:6,validator:function(t,n){var a=[],o=void 0;return n&&n[0]&&(o=n[0].link||e.secLink),i.each(t,function(e){e.clickUrl&&e.clickUrl.indexOf("?")>-1&&e.title&&e.subtitle&&(e.clickUrl=o+"?"+e.clickUrl.split("?")[1],a.push(e))}),a.length>=6?{valid:!0,list:a,useData:!0}:e.validatorError(t,a)},normal:!0,extra:{pageSize:6}}).then(function(t){var n=a(".list",e.el);e.render(r,{list:t},n),e.el.removeClass("tb-loading")})["catch"](function(t){e.reportError(t&&t.message)})},defaults:function(){return{name:"belt",cacheKey:"TB_Blet",title:"\u4eba\u7fa4\u7814\u7a76\u6240",subtitle:"\u53d1\u73b0\u5c5e\u4e8e\u4f60\u7684\u751f\u6d3b\u65b9\u5f0f",secLink:"//www.taobao.com/markets/tbhome/crowd-guide",logo:"//img.alicdn.com/tfs/TB1o60degoQMeJjy1XaXXcSsFXa-180-48.png"}}},s)),e=t}(),kgHome2017130CAppIndex=function(e){function t(e,n){this.el=e,this.cfg=n,t.superclass.constructor.apply(this)}var n=util,a=node,i=a.all,o=aliPattern,r=aliPatternLibImage,s=kgHome2017130CAppItemjsthtml;return o.extend(t,{init:function(){this.load()},load:function(){var e=this;this.fetch().then(function(t){if(t.apps.length>10){var n=t.apps.slice(0,5),a=t.apps.slice(5),a=e.shuffle(a);t.apps=n.concat(a.slice(0,5))}var o=i(".apps",e.el);e._parse(t.apps),e.render(s,t,o),o.removeClass("tb-loading"),e._bind()})["catch"](function(t){e.reportError()})},fetch:function(){var e=this;return this.xctrl({data:this.cfg,key:["head","apps"]}).then(function(t){if(t&&t.head&&t.apps&&!n.isEmptyObject(t.head)&&!n.isEmptyObject(t.apps))return e.offline.setItem(e.cacheKey,JSON.stringify(t)),t;var t=e.offline.getItem(e.cacheKey);return t=JSON.parse(t),t?(e.reportCache(),t):e.backup()})},backup:function(){var e=this;return this.use("p/"+this.name+"/index").then(function(t){return e.reportCDN(),t})},_parse:function(e){n.each(e,function(e){e.img=r.getImageAndCache(e.img,{webp:!0,size:"60x60"})})},_bind:function(){this.el.delegate("mouseenter",".nav",function(e){var t=i(".J_QRCode",e.currentTarget);if(1!=t.attr("data-loaded")){var n=t.attr("data-src");t.attr("src",n),t.attr("data-loaded",1)}})},shuffle:function(e){for(var t,n=e.length,a=Array(n),i=0;i<n;i++)t=~~(Math.random()*(i+1)),t!==i&&(a[i]=a[t]),a[t]=e[i];return a},defaults:function(){return{cacheKey:"cache-apps-tce",name:"tbh-app",cacheBaseKey:"cache-base64-apps"}}}),e=t}(),kgHome2017130CMemberIndex=function(e){function t(){return u.getTag()}function n(e){return u.getNick(e)}var a=node,i=aliPatternLibReporter,o=aliPatternLibImage,r=_ua_,s=util,l=aliSession,c=aliPattern,d=kgHome2017130CMemberLoginjsthtml,u=window.TB&&TB.Global,h=u&&u.isLogin(),m={"\u5317\u4eac":"//img.alicdn.com/tfs/TB1DsAvOFXXXXc5XVXXXXXXXXXX-580-340.png","\u4e0a\u6d77":"//img.alicdn.com/tfs/TB18IEUOFXXXXaQXXXXXXXXXXXX-580-340.png","\u5e7f\u5dde":"//img.alicdn.com/tfs/TB1IMECOFXXXXXiXVXXXXXXXXXX-580-340.png","\u6df1\u5733":"//img.alicdn.com/tfs/TB124AVOFXXXXb.XXXXXXXXXXXX-580-340.png","\u676d\u5dde":"//img.alicdn.com/tps/TB1QuZvLVXXXXb4XpXXXXXXXXXX-580-340.png","default":"//img.alicdn.com/tfs/TB19tIiOFXXXXbmapXXXXXXXXXX-580-340.png"},p=a.all,f="//taojinbi.taobao.com/index.htm",_=f+"?auto_take=true",g=function(e){this.el=e,this.tag=t(),this.init(),this.bg()};return c.extend(g,{init:function(){if(h){var e=this.el.all(".J_MemberClub");this.tag<1&&e.attr("href","//new.taobao.com");var t=this.el.all(".J_MemberPunch");t.attr({href:f,"data-spm":"d1"}),this._render()}var a=p(".J_MemberAvatar",this.el),i="//wwc.alicdn.com/avatar/getAvatar.do?userNick={userNick}&width=50&height=50&type=sns&_input_charset=UTF-8",o=s.substitute(i,{userNick:n(!0)});a.attr("src",o)},bg:function(){var e=this.el.attr("data-img");e||(h?this.setBg():this._setCityBg())},setBg:function(){var e=this,t=this.offline.getItem("city");return t&&m[t]?void this._setCityBg(t):(this._setCityBg(),void setTimeout(function(){e.jsonp("//tbip.alicdn.com/api/queryip").then(function(t){if(t&&t.data&&t.data.city){var n=t.data.city,a=/\u5317\u4eac|\u4e0a\u6d77|\u5e7f\u5dde|\u6df1\u5733|\u676d\u5dde/.exec(n);a=a&&a[0],a&&e.offline.setItem("city",a)}})},8e3))},_setCityBg:function(e){e||(e="default");
var t=m[e];t&&(r.ie&&8==r.ie?t+="_290x290.jpg":(t=l.get("retina")?t:t+"_290x290.jpg",t=o.getImageAndCache(t)),this.el.css({backgroundImage:"url("+t+")"}))},_render:function(){var e=this,t=this.el.all(".J_MemberHome"),a=this.el.all(".J_MemberNick");if(t.attr("href","//i.taobao.com/my_taobao.htm?ad_id=&am_id=&cm_id=&pm_id=1501036000a02c5c3739"),n()&&a.html(n()),!isNaN(this.tag)){var o="";10===this.tag?o="super":20===this.tag&&(o="apass"),r.ie&&8==r.ie||o&&p(".avatar-wrapper",this.el).addClass(o),this.jsonp("//i.taobao.com/json/my_taobao_remind_data.htm").then(function(t){return e.remind(t)},function(e){i({category:"ERROR_Member_Login_Detect_Crash",msg:"fetch delivery address error, detail: "+(e&&e.message)},"warn")})}},remind:function(e){var t=this.el.all(".J_MemberLogin"),n=this.el.all(".J_MemberLogout");"true"===e[6];p(".member-tjb",this.el).addClass("member-tjb-login");var a=this.render(d,{a:e[3]||0,b:e[1][0]||0,c:e[2]||0,d:e[7]||0});t.append(a).show(),n.animate({marginTop:"-25px"},.2,"easeOut");var i=this.el.all(".J_MemberPunch");i.attr({href:_,"data-spm":"d2"})}}),e=g}(),kgHome2017130CHeadlineIndex=function(e){function t(e,n){this.el=e,this.conf=n,t.superclass.constructor.apply(this)}var n=aliPattern,a=node.all,i=_ua_,o=aliSlide,r=kgHome2017130CHeadlineItemjsthtml;return n.extend(t,{init:function(){var e=this;this.load().then(function(t){var n=a(".J_Headline",e.el);e.render(r,{list:t,hd:{more:e.more}},n),e._lazyload(),8==i.ie?setTimeout(function(){e.initSlider()},3e3):e.initSlider(),a(".J_Headline",e.el).removeClass("tb-loading")})["catch"](function(t){e.reportError({extra:{message:t&&t.message,type:"render"}})})},load:function(){var e=this;return this.jsonp({url:this.url,jsonp:"callBack"}).then(function(t){var t=t&&t.data;return e.validator.array.minItems(t,1)?t:e.getCache()},function(t){return e.getCache(t)})},getCache:function(e){var t=this,n=this.offline.getItem(this.cacheKey);return n?(this.reportCache({extra:{message:e&&e.message}}),JSON.parse(n)):this.tarzan({url:this.url,cache:!0}).then(function(n){return t.reportCDN({extra:{message:e&&e.message}}),n&&n.data})},_lazyload:function(e){},initSlider:function(){var e=this;this.slide=new o(".headline",{contentClass:"headline-bd",pannelClass:"mod",effect:"vSlide",timeout:5e3,autoSlide:!0,touchmove:!0});var t=a(".headline-hd",this.el).width(),n=a(".headline-bd",this.el),i=a(".J_Headline",this.el);this.subscribe("window:responsive",function(a){var o=i.width()-t;n.width(o),e.slide.fixSlideSize()})},defaults:function(){return{cacheKey:"cache-headline-be",name:"headline",category:"ERROR_Headlines_get_null_data",url:"//headline.taobao.com/feed/homeFeed.do",more:"//headline.taobao.com/feed/feedList.htm",link:"//headline.taobao.com/feed/feedList.htm"}}}),e=t}(),kgHome2017130CDecorationsIndex=function(e){function t(e){var t=this;this.el=e,a.load(function(){t.init()})}var n=node,a=util,i=aliPattern,o=kgHome2017130CDecorationsItemjsthtml,r=_ua_,s={},l=n.all;return i.extend(t,{init:function(){var e=this,t=l("textarea",this.el),n=a.trim(t.val());if(t&&t.length&&n){s=JSON.parse(n),t.remove(),a.each("holy bottom".split(" "),function(t){a.isTrue(s[t],"on")&&"function"==typeof e["run"+t]&&e["run"+t](s[t][0])});var i=s.side&&s.side.length,i=i&&i[0];if(a.isTrue(s.side,"on")){var o=s.side[0].list;o&&o.length&&(this.list=o,this._lazybind())}}},runholy:function(e){var t=this,n=!1,i=!1,r=l("#J_SiteNav").outerHeight(),s=l(".tbh-banner").height(),c=l(".tbh-superbanner").height();c&&(s+=c),a.each(e.list,function(e){if(a.isTrue(e.left)&&!i){var c=l(".tbh-member");e.left=c.width(),e.top=-(c.offset().top-r-s);var d=t.render(o,e);c.prepend(d),i=!0}if(!a.isTrue(e.left)&&!n){e.left=-e.width;var u=l(".tbh-service");e.top=-(u.offset().top-r-s);var h=t.render(o,e);u.prepend(h),n=!0}})},_lazybind:function(){l(window).on("load",a.bind(this._loadSide,this)),this.lazyTimer=setTimeout(a.bind(function(){this._loadSide()},this),4e3)},_loadSide:function(){function e(r){clearTimeout(t),t=setTimeout(a.bind(function(){var t=n.scrollTop()+i;this.list.length?a.each(this.list,a.bind(function(e,n){var i=e&&e.refer&&l("."+e.refer);if(i&&e.img&&i.offset()&&i.offset().top<=t){var o='<img class="decorate" src="{img}" width="{width}" height="{height}"/>',o=a.substitute(o,e),r=l(o);e.top&&r.css("top",e.top),e.left&&r.css("left",e.left),e.right&&r.css("right",e.right),e.bottom&&r.css("bottom",e.bottom),i.append(r),this.list.splice(n,1)}},o)):n.off("scroll",e)},o),50)}var t,n=l(window),i=n.height(),o=this;this.hasLoad||(this.hasLoad=!0,n.on("scroll",e),e())},runbottom:function(e){var t=this;if(8!==r.ie){var n=l("body"),i=l(".screen-outer").width(),s=n.width(),c=(s-i)/2,d=void 0,u=void 0,h=void 0,m=void 0;a.each(e.list,function(e){a.isTrue(e.left)&&!u&&(m=e.width,e=a.merge(e,{classname:"fixed-bottom",right:c-m,zIndex:1}),u=t.render(o,e),n.append(u)),a.isTrue(e.left)||d||(h=e.width,e=a.merge(e,{classname:"fixed-bottom",left:c-e.width,zIndex:1}),d=t.render(o,e),n.append(d))}),l(window).on("resize",function(e){var t=l(".screen-outer").width(),a=n.width(),i=(a-t)/2;d.css("left",i-h),u.css("right",i-m)}),l(window).on("scroll",function(e){var t=l(document).scrollTop(),n=l(".headline").offset().top;t+54-n>0?(d.fadeIn(.3),u.fadeIn(.3)):(d.fadeOut(.3),u.fadeOut(.3))})}},defaults:function(){return{name:"decoration"}}}),e=t}(),kgHome2017130CSearchIndex=function(e){function t(e){this.el=e,this.qEl=h("#q"),this.forms=m.forms.search,t.superclass.constructor.apply(this)}var n=_ua_,a=anim,i=node,o=cookie,r=kgHome2017130CSearchSticky,s=aliPatternLibReporter,l=aliPattern,c=util,d=kgHome2017130CSearchTmalljsthtml,u=kgHome2017130CSearchAlimamajsthtml,h=i.all,m=document;return l.extend(t,{init:function(){this.bind(),new r,this.cloneLine(),this.loadAlimamaWord(),this.placeholder(),this.intelligentInitSuggest(),this.setSPM("taobao-item")},bind:function(){this.el.delegate("mouseenter","#J_SearchTab",this.toggleTab,this),this.el.delegate("mouseleave","#J_SearchTab",this.toggleTab,this),this.el.delegate("click",".J_SearchTab",this.clickTab,this),this.el.delegate("focusin","#q",this.focusInput,this),this.el.delegate("focusout","#q",this.blurInput,this),this.el.delegate("keyup","#q",this.keyupInput,this),this.el.delegate("input","#q",this.keyupInput,this),this.el.delegate("click","#J_SearchIcon",this.clickIcon,this)},cloneLine:function(){h(".search-hots-lines",this.el).append(h(".search-hots-fline",this.el).clone(!0).attr({"class":"search-hots-sline","data-spm-ab":"sline"}))},placeholder:function(){function e(e){var t=e.match(/(\w+?:\/\/[^\?#&]+)(\?([^$#]+))?/);return!!(t&&t[1]&&t[3])&&{action:t[1],params:c.unparam(t[3])}}var t=this,n=h(".J_TbSearchContent label"),a="",i=n.attr("data-oeid");i&&this.jsonp({url:"//s.taobao.com/search?app=api&m=word&oeid=",data:{oeid:i}}).then(function(o){if(o&&o.success&&o.data&&o.data.length>0){var r=o.data[0],l="<span style='display:none;'>"+r.word_keyword+"</span>"+(r.word_title||r.word_keyword);if(n.html(l).attr("data-searchtype-item",l).show(),!r.word_url)return;var c=e(r.word_url);h(".J_SearchPanel form",t.el).attr("action",c.action);for(var d in c.params)"q"!=d&&t.hidden(!0,d,c.params[d])}else n.show(),s({category:"ERROR_NODATA_"+a+i,msg:"API: "+ +a+i},"warn")},function(e){n.show(),s({category:"ERROR_FAILED_"+a+i,msg:"API: "+a+i+" msg: "+e&&e.message},"warn")})},intelligentInitSuggest:function(){function e(){a||(a=!0,n.initSearchSuggest(),t.off("load",e),n.qEl.off("focus",e),n.qEl.off("input",e),n.el.undelegate("mouseenter",".search-wrap",e,this))}var t=h(window),n=this,a=!1;c.load(function(){setTimeout(function(){e()},600)}),this.qEl.on("focus",e),this.qEl.on("input",e),this.el.delegate("mouseenter",".search-wrap",e,this)},initSearchSuggest:function(){var e=window.suggestModuleVersion||"6.2.3",t=this,a="kg/search-suggest/"+e;KISSY.use(a+"/index,"+a+"/plugin/history,"+a+"/plugin/cloud,"+a+"/plugin/tab,"+a+"/plugin/history-magic,"+a+"/plugin/imgsearch,"+a+"/theme/pailitao/,"+a+"/new_suggest.css",function(e,a,i,o,r,l,d,u){var p=this,f=["channelEntry","history","c2c_activity","dapei_top","cat","global","list","dapei_bottom","scene","shop","tmall","cloud"],_=[new i,new r({activeCls:"selected",node:t.el.all("li.J_SearchTab")}),new o,new l],g="//suggest.taobao.com/sug?k=1&area=c2c",v=!(h(m).scrollTop()>0),b="";if(!(n.ie&&n.ie<=7)){var x=new d({input:"#J_IMGSeachUploadBtn",type:"iframe",theme:new u({formNode:"#J_TSearchForm",queueTarget:"#J_UploaderMessage"})});_.push(x),h("#J_UploaderPanel").show()}var w=new a({placeholder:{show:!0,node:"#tbSearchContent",api:"//suggest.taobao.com/sug?area=shade_recommand&code=utf-8"},plugins:_,sugConfig:{sourceUrl:g,node:"#q",focused:v,resultFormat:b},mods:{sort:f,tmall:{tmpl:['<div class="{prefixCls}menu-extras-cate extras-mall" data-key="q={tmall}&suggest=tmall_{$index}&tab=mall">','<span class="{prefixCls}menu-key">{tmall}</span>',"<b>\u5929\u732b\u76f8\u5173</b>","</div>"].join("")},scene:{tmpl:['<div class="{prefixCls}menu-extras-cate extras-scene" data-action="http://fa.taobao.com/search" data-key="q={scene}&suggest=scene_{$index}">','<span class="{prefixCls}menu-key">{scene}</span>',"<b>\u88c5\u4fee\u5b9d\u5178/\u9009\u8d2d\u79d8\u7c4d</b>","</div>"].join("")}}});w.on("beforeImageSuccess",function(){s({msg:"\u56fe\u7247\u4e0a\u4f20\u6210\u529f"})}),w.comboBox.on("beforeShow",function(){TB.$sug||(TB.$sug=w.get("menu").get("el"))}),w.comboBox.on("click",function(){s(h(".J_Cup").hasClass("wrap-fixed")?{goldlog:["/tbindex.2014.11","",{type:2},"H46896547"]}:{goldlog:["/tbindex.2014.11","",{type:1},"H46896547"]})}),n.ie&&11===n.ie&&w.comboBox.get("menu").on("afterRenderUI",function(){this.get("el").on("click",{fn:function(e){w.comboClick(e)},once:!0})}),t.comboBox=w.comboBox,v||p.forms&&(p.forms.className=""),h(".btn-search").on("click",function(e){e.halt();var n,a=t.qEl,i=h("#J_TSearchForm");if(""===c.trim(a.val())){if(t.isTmall)n=h(".J_TmallPlaceholder").children("label").attr("data-q"),t.hidden(!0,"from","tbmain_1_placeholder");else{t.setSPM("taobao-item");var o=h("span",".J_TbPlaceholder");o&&o.length&&(n=o.text(),i.append('<input type="hidden" name="hintq" value="1">')),t.hidden(!1)}h(".J_Placeholder",this.el).hide(),a.val(n)}else t.setSPM("taobao-item");i.fire("submit")})})},setSPM:function(e){var t=[h("meta[name=spm-id]").attr("content")];t.push(h("body").attr("data-spm")),t.push(this.el.attr("data-spm")+"-"+e),t.push(c.trim(this.qEl.val())?"1":"2"),this.forms.spm.value=t.join(".")},toggleTab:function(e){var t=e.type,n="triggers-hover",a=h(".J_SearchTabBox",this.el);"mouseenter"===t?a.addClass(n):a.removeClass(n)},clickTab:function(e){var t=h(e.currentTarget);if(h(".J_Cup").hasClass("wrap-fixed")){var n=h(".J_SearchTabBox",this.el),a=h("ul",n),i=a.item(0);t[0]!==i[0]&&a.prepend(t)}this.forms.search_type.value=t.attr("data-searchType"),this.isTmall="true"===t.attr("data-tmall");var o=h(".J_SearchPanel",this.el),r=h(".J_TmallSearchContent",this.el),s=h(".J_TbSearchContent",this.el),l=h(".btn-search",this.el);this.isTmall?(o.addClass("tmall-search-panel"),l.removeClass("tb-bg"),this.setSPM("tmall"),this.loadTmallWord(),r.show(),s.hide()):(o.removeClass("tmall-search-panel"),l.addClass("tb-bg"),this.setSPM("taobao-item"),r.hide(),s.show()),this.qEl.val()&&(r.hide(),s.hide())},hidden:function(e,t,n){var a=h(".J_SearchPanel").all("form"),i=h(".hidden-"+t);if(e){var o='<input type="hidden" name="{name}" value="{value}" class="hidden-{name}">',r=c.substitute(o,{name:t,value:n});i.length||a.append(r)}else i.length&&i.remove()},loadAlimamaWord:function(){var e=this,t=window.TB,n=t&&t.Global&&t.Global.getNick(),a=o.get("cna"),i="//textlink.simba.taobao.com";this.jsonp({url:i,dataType:"jsonp",data:{name:"tbhs",cna:a,nn:encodeURIComponent(n)||"",count:13,pid:"430266_1006"}}).then(function(t){t&&t.success&&t.data&&t.data.length>0?(e.render(u,t.data,h(".search-hots-sline",e.el)),e._alimamaWordRun()):s({category:"ERROR_NODATA_"+i,msg:"API: "+i+", DATA: "+(JSON.stringify(t)||"").slice(0,500),sampling:10},"warn")})["catch"](function(){s({category:"ERROR_FAILED_"+i,msg:"API: "+i},"warn")})},_alimamaWordRun:function(){var e=.6,t="ease-out",n=h(".search-hots-lines",this.el);n.css("top",0),setTimeout(function(){new a(n,{top:-23},e,t).run()},10)},loadTmallWord:function(){var e=this;return this.tmallWord?this.tmallWord:void this.jsonp("//suggest.taobao.com/sug?area=tmall-hq&code=utf-8&src=tbmain").then(function(t){if(t.success){e.tmallWord=t;var n=t.model,a=n.placeholder&&n.placeholder[0];a&&h(".J_TmallPlaceholder",e.el).all("label").text(a.text).attr("data-q",a.query),e.render(d,n,h(".J_TmallHotWord"))}})},focusInput:function(){this.forms.className="search-panel-focused"},blurInput:function(){c.trim(this.qEl.val())||(this.forms.className="")},keyupInput:function(){var e=c.trim(this.qEl.val()),t=h(".J_SearchIcon",this.el),n=h(".J_Placeholder",this.el),a=h(".J_TmallSearchContent",this.el),i=h(".J_TbSearchContent",this.el);e?(n.hide(),t.hide()):(n.hide(),this.isTmall?a.show():(i.show(),h(".J_TbPlaceholder").show()),t.show()),e&&(a.hide(),a.hide())},clickIcon:function(){this.qEl.fire("focus")},defaults:function(){return{name:"tbh-search"}}}),e=t}(),kgHome2017130CFixedtoolIndex=function(e){var t=_ua_,n=node,a=aliAttrAnim,i=kgHome2017130CFixedtoolItemjsthtml,o=aliPattern,r=n.all,s=t&&t.ie&&8===t.ie,l=s?0:.4,c=function(e){return this.el=e,t.ipad||t.android?void this.el.hide():(this.toolEl=r(".J_FixedTool",this.el),this.enabledFeedback=!!this.toolEl.attr("data-feedback"),this.feddbackVersion=this.toolEl.attr("data-version")||"0.1.26",void(this.toolEl.length&&(this.name="tbh-fixedtool",this.init())))};return o.extend(c,{init:function(){var e=this;this.load().then(function(t){t&&(e.render(i,t,e.toolEl),e.bind())})["catch"](function(t){e.reportError({extra:t&&t.message})})},load:function(){var e=this,t=1017579,n={url:"//tce.alicdn.com/api/data.htm",data:{ids:t},cache:!0,jsonpCallback:"tce_fixedtool_callback"};return this.jsonp(n).then(function(a){var i=e._getTool(a,t);return i?i:e.backup(n,t)},function(){return e.backup(n,t)})},_getTool:function(e,t){if(e&&e[t]&&e[t].value){var n=e[t].value.tools;if(n&&n.length)return n}},backup:function(e,t){var n=this;return this.tarzan(e).then(function(e){var a=n._getTool(e,t);return a?(n.reportCDN(),a):void n.reportError()})},bind:function(){var e=this,t=this,n=r('a[data-tool="gotop"]',this.toolEl),i=r(window);this.count(),this.el.delegate("click","a",function(n){var o=r(n.currentTarget),c=o.attr("data-tool");if(!c)return e.enabledFeedback&&o.hasClass(".fixedtool-8")&&e._showFeedback()&&(n.preventDefault(),e._feedback()),!0;if(e.count(),n.halt(),"gotop"===c)return s?void i.scrollTop(0):(new a(r("html"),{scrollTop:0},{duration:l,easing:"easeOut"}).run(),void new a(r("body"),{scrollTop:0},{duration:l,easing:"easeOut"}).run());if(e.dataCache[c]){var d=function(e,t,n){new a(r("body"),{scrollTop:e},{duration:t,easing:"easeOut",complete:function(){u(e,n)}}).run(),new a(r("html"),{scrollTop:e},{duration:t,easing:"easeOut",complete:function(){u(n)}}).run()},u=function p(e,n){if("hotsale"===n&&!p.hasExe){p.hasExe=!0,t.count();var a=t.dataCache[n].top;d(a,0)}},h=e.dataCache[c].item,m=e.dataCache[c].top;if(e.el.all(".on").removeClass("on"),h.addClass("on"),s)return r("body").scrollTop(m),void r("html").scrollTop(m);d(m,l,c)}});var o=this.toolEl.hasClass("left");i.on("scroll",function(){var t=i.scrollTop(),a=r(".tbh-conve").offset().top+2,s=75;if(t>i.height()?n.show():n.hide(),t<=a-s){var l=r("a",e.el).attr("data-tool");e.dataCache[l]&&e.dataCache[l].obj.addClass("on"),o?e.toolEl.css({position:"absolute",top:a}):e.toolEl.css({position:"absolute",top:a})}else{o?e.toolEl.css({position:"fixed",top:s}):e.toolEl.css({position:"fixed",top:s});var c=e.scroll[e.scroll.length-1];if(t>=c)return e.el.all(".on").removeClass("on"),void e.scrollDOM[c].item.addClass("on");for(var d=1,u=e.scroll.length;d<u;d++)if(t>=e.scroll[d-1]&&t<e.scroll[d]){e.el.all(".on").removeClass("on"),e.scrollDOM[e.scroll[d-1]].item.addClass("on");break}}}).fire("scroll"),i.on("resize",function(){var t=i.width(),n=r(".fixedtool",e.el);t>1190&&t<1311?n.addClass("ft1190"):n.removeClass("ft1190"),t<1111?n.addClass("ft990"):n.removeClass("ft990")}).fire("resize"),this.toolEl.fadeIn(.5)},count:function(){var e=this,t=this.toolEl.all("a");this.dataCache={},this.scroll=[],this.scrollDOM={},t.each(function(t){var n=r(t),a=n.attr("data-tool"),i=r('div[data-name="'+a+'"]');if(a&&i&&i.length){var o=i.offset().top-48;e.dataCache[a]={obj:i,item:n,top:o},e.scroll.push(o),e.scrollDOM[o]={obj:i,item:n}}}),this.scroll=this.scroll.sort(function(e,t){return e>t?1:-1})},_showFeedback:function(){return!(t.ios||t.android||t.ipad||t.iphone)},_feedback:function(){function e(){try{n.feedback.init({productId:875,source:"web"})}catch(e){}}var t=this,n=this;this.feedback&&e(),KISSY.use("kg/xz-feedback-pc-tb/"+this.feddbackVersion+"/index",function(n,a){t.feedback=new a,e()})}}),e=c}(),kgHome2017130CSuperbannerIndex=function(e){function t(e,n){this.el=e,this.conf=n,this.backup=1==this.el.attr("data-backup"),t.superclass.constructor.apply(this)}var n=aliPattern,a=util,i=kgHome2017130CSuperbannerItemjsthtml,o=node.all,r=cookie,s=promise;return n.extend(t,{init:function(){var e=this,t=o("textarea",this.el).val();this.staticData=t?JSON.parse(t):{},this.load().then(function(t){t=t||[],t=e.getValidData(t,5,e.staticData.list),t.length=5,e.render(i,{list:t,logo:e.staticData.logo[0]},o(".superbanner-inner",e.el))})["catch"](function(t){e.reportError(t&&t.message)})},load:function(){var e=this;return this.backup?s.resolve():this.xctrl({data:this.conf,key:["list"],request:"taobao",extra:{cna:r.get("cna")}}).then(function(t){var n=t.list&&t.list&&t.list[0]&&t.list[0].item;return n=n&&n[0]&&n[0].contents,e.validator.array.minItems(n,5)?n:(e.reportCDN({message:"valid error"}),null)})["catch"](function(t){return e.reportCDN({message:"request error"}),null})},getValidData:function(e,t,n){var i=this,o=[];if(a.each(e,function(e){i.validator.notEmpty(e,["title","clickUrl","subtitle","picUrl"])&&o.push({title:e.title,subtitle:e.subtitle,link:e.clickUrl,img:e.picUrl})}),o.length>=t)return o;for(var r=o.length,s=0;s<t-r;s++)n&&n[s]&&o.push(n[s]);return o},defaults:function(){return{name:"superbanner"}}}),e=t}(),kgHome2017130CommonHeadIndex=function(e){var t=kgHome2017130CommonHeadItemBarjsthtml,n=kgHome2017130CommonHeadItemjsthtml;return e={renderHeadBar:function(e,n){n=n||this.el;var a=this.name,i=e&&e[0]||{};i.classname=i.classname||a,i.title=i.title||this.title,i.switcher=i["switch"]||this.switcher,i.itemLayer=i.itemLayer||this.itemLayer,i.logo=i.logo||this.logo,this.renderTo(t,i,n),this.noEXP||this.exp()},renderHead:function(e,t){t=t||this.el;var a=this.name,i=e&&e[0]||{};i.classname=i.classname||a,i.title=i.title||this.title,i.subtitle=i.subtitle||this.subtitle,i.switcher=i["switch"]||this.switcher,i.logo=i.logo||this.logo,this.renderTo(n,i,t),this.noEXP||this.exp()},exp:function(){this.godlog("/tbindex.module.name","EXP",{name:this.name},"H1476877869","\u6a21\u5757\u66dd\u5149\uff1a"+this.name)}}}(),kgHome2017130LibModules=function(e){return e={ad:kgHome2017130CAdIndex,qr:kgHome2017130CQrIndex,service:kgHome2017130CServiceIndex,promo:kgHome2017130CPromoIndex,tmall:kgHome2017130CTmallIndex,conve:kgHome2017130CConveIndex,focus:kgHome2017130CFocusIndex,nav:kgHome2017130CNavIndex,belt:kgHome2017130CBeltIndex,app:kgHome2017130CAppIndex,member:kgHome2017130CMemberIndex,notice:kgHome2017130CNoticeIndex,headline:kgHome2017130CHeadlineIndex,decorations:kgHome2017130CDecorationsIndex,tanx:kgHome2017130CTanxIndex,search:kgHome2017130CSearchIndex,corner:kgHome2017130CCornerIndex,fixedtool:kgHome2017130CFixedtoolIndex,superbanner:kgHome2017130CSuperbannerIndex}}(),kgHome2017130CommonInject=function(e){var t=aliPattern,n=kgHome2017130CommonHeadIndex,a=util;return a.mix(t.prototype,n),e}(),kgHome2017130LibLoader=function(e){function t(e,t,a,i,o,r){if(i)return void n(e,t,a,o,r);var s=e.attr("preload-distance");s?(s=Number(s),new h({diff:{top:s||50,bottom:s||50},autoDestroy:!0}).addCallback(e,function(){n(e,t,a,o,r)})):g.addCallback(e,function(){n(e,t,a,o,r)})}function n(e,t,n,i,o){var r=f.get("tbVersion")||"0.0.1";if(!e.hasClass("tbh-loaded")&&!i)return void u({category:"ERROR_Loader_Crash",msg:"Loader\u52a0\u8f7d\u6a21\u5757\u65f6\uff0c\u53d1\u73b0\u6a21\u5757\u4e0d\u5b58\u5728 "+e.className},"warn");if(_[i])a(e,t,i,o);else{var s="kg/home-2017/"+r+"/c/"+i+"/index",l=s+".css";a(e,t,i,o,s,l)}}function a(e,t,n,a,l,c){var d=_[n];if(d)try{var u=new d(e,t);s(u,n,a)}catch(h){i(n,h,e)}else o().then(function(){return r(l)},function(e){return r(l+", "+c)}).then(function(o){try{var r=new o(e,t);s(r,n,a)}catch(l){i(n,l,e)}},function(t){i(n,t,e)})}function i(e,t,n){var a=t&&t.message,i="",o="";try{i=JSON.stringify(p.computeStackTraceFromStackProp(t)),o=n&&n[0]&&n[0].innerHTML}catch(r){}u({category:"ERROR_Loader_Crash",msg:"fatal error "+e+"~"+a+"stack:"+i+"html: "+o},"warn"),(f.get("env")||location.host.indexOf("yb.my")!==-1)&&window.console&&window.console.log(e,t)}function o(){function e(e){p.each(x,function(t){e?t.resolve():t.reject()})}if(v)return c?m.resolve():m.reject();if(b)return new m(function(e,t){x.push({resolve:e,reject:t})});b=!0;var t=f.get("tbVersion")||"1.5.0";return m.all([r("kg/home-2017/"+t+"/lib/lazy"),l("//g.alicdn.com/??kg/home-2017/"+t+"/lib/style/lazy.css")]).then(function(){v=!0,b=!1,c=!0,e(!0)},function(t){v=!0,b=!1,c=!1,i("lazy",t&&t.message),e(!1)})}function r(e){return p.isString(e)&&(e=e.split(",")),e=p.map(e,function(e){return p.trim(e)}),new m(function(t,n){KISSY.use(e,{success:function(e,n){t(n)},error:function(e){n()}})})}function s(e,t,n){var a=f.get("modules");a||(a={}),a[t]||(a[t]={mod:e,dataStr:n}),f.set("modules",a)}function l(e){return new m(function(t,n){KISSY.getScript(e,{success:function(){t()},error:function(){n()}})})}var c,d=node,u=aliPatternLibReporter,h=aliDatalazyload,m=promise,p=util,f=(d.all,aliSession),_=kgHome2017130LibModules,g=new h({diff:{top:200,bottom:50}}),v=!1,b=!1,x=[];return e=t}(),kgHome2017130LibIndex=function(e){function t(){var e=[],t=["promo","service","qr","decorations","qr","tmall","focus","conve","member","tanx","search","headline","superbanner","nav"],i=["corner","fixedtool","ad"],o=["promo","focus"],r=[],l=a();l.banner&&(r.push("ad"),r.push("corner")),l.doodle&&r.push("ad"),l.corner&&r.push("corner");d(".J_Module").each(function(n){var a,n=d(n),l=n.attr("tms"),u=n.attr("tms-data"),h=u,m=n.attr("tms-datakey");if(l&&m&&l.indexOf("/")!==-1?a=l.split("/")[0]:(l=n.attr("data-name"),"special"===l&&(l="quality"),a=l),!n.hasClass("tb-pass")&&!c.inArray(a,r)){if(u&&c.trim(u))try{u=JSON.parse(u)}catch(p){u={}}else u={};return c.inArray(a,t)?void c.frame(function(){var e=c.inArray(a,o);s(n,u,l,e,a,h)}):c.inArray(a,i)?void c.load(function(){c.frame(function(){s(n,u,l,!0,a,h)})},50):void e.push({el:n,data:u,name:l,moduleName:a,dataStr:h})}}),n(e)}function n(e){function t(){n||(n=!0,u.detach(a,t),c.each(e,function(e){c.frame(function(){s(e.el,e.data,e.name,e.force,e.moduleName,e.dataStr)})}))}var n=!1,a="mousemove scroll mousedown touchstart touchmove keydown resize onload";u.on(a,t),setTimeout(function(){t(),r.pwaAbility()},5e3)}function a(){var e={};d(".tbh-logo .logo-hover").length&&(e.doodle=!0),d(".tbh-banner .topBanner").length&&(e.banner=!0);var t=d(".tbh-decorations textarea");if(t.length)try{var n=JSON.parse(t.val()),a=n.left[0].decorations.length,i=n.right[0].decorations.length;a&&i?(e.doodle=!0,e.banner=!0):(a||i)&&(e.doodle=!0)}catch(o){}return!d(".tbh-ad .tbh-ad-inner textarea").length||e.banner||e.doodle||(e.corner=!0),c.isEmptyObject(e)||h({category:"CONFLICT_TANX",msg:JSON.stringify(e)},"warn"),e}var i=_ua_,o=node,r=kgHome2017130LibFeature,s=kgHome2017130LibLoader,l=kgHome2017130LibLog,c=util,d=o.all,u=d(window),h=aliPatternLibReporter;return i.ie&&i.ie<8||(new r,t(),new l),e}(),kgHome2017130Index=function(e){return e=kgHome2017130LibIndex}(),module.exports=kgHome2017130Index});define("kg/pattern/2.1.3/index",["ua","util","kg/xctrl/7.2.1/xctrl-kissy","promise","io","kg/route-map-http/0.0.3/index","url","kg/session/0.0.1/index","kg/offline/7.0.1/index","node","json"],function(t,e,r){var n,o,a,i,c,s,u,l,f,p,g,d=t("ua"),h=t("util"),m=t("kg/xctrl/7.2.1/xctrl-kissy"),w=t("promise"),v=t("io"),y=t("kg/route-map-http/0.0.3/index"),b=t("url"),_=t("kg/session/0.0.1/index"),x=t("kg/offline/7.0.1/index"),O=t("node"),j=t("json");n=function(t){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=d,n=(window.location.hostname,h);return window.JSTracker2=window.JSTracker2||[],t=function(t,o){if(t.category){if(r.ie&&r.ie<8)return;t.sampling=t.sampling||10;var a="http://jstracker.www.taobao.com/0.0.3/"+t.category;a=a.slice(0,200),window.JSTracker2.push({msg:t.msg,url:a,sampling:t.sampling})}n.isArray(t.goldlog)&&(t.goldlog[3]||(t.goldlog[3]="H46896569"),"object"===e(t.goldlog[2])&&(t.goldlog[2]=n.param(t.goldlog[2])),(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:t.goldlog}));var i=window.location.search,c=!1;i&&(i=n.unparam(i.slice(1)),c=i.hasOwnProperty("_console")||i.hasOwnProperty("_debug")),t.msg&&c&&(o=o||"info",r.ie&&r.ie<=8&&(o="log"),window.console&&window.console[o]&&window.console[o]("[REPORTER LOG] "+t.msg))}}(),o=function(t){var e=m,r=w,n=v,o=h,a=y;return t={xctrl:function(t){return new r(function(r,n){t.callback=function(t){t?r(t):n(t)},e.dynamic(t)})},jsonp:function(t){"string"==typeof t&&(t={url:t});var e={dataType:"jsonp",timeout:5};if(!t.url)throw new Error("jsonp request need url");return t=o.merge(e,t),this.ajax(t)},ajax:function(t){return new r(function(e,r){t.success=function(t){e(t)},t.error=function(t,e){r({message:e})},n(t)})},tarzan:function(t){"string"==typeof t&&(t={url:t});var e=new a({api:t.url,data:t.data||{},dirName:"pctaobao"});return this.jsonp({url:e.getCDNAddress(),timeout:60,jsonpCallback:e.getJSONPCallbak(),cache:!0})},use:function(t){return new r(function(e,r){KISSY.use([t],function(t,r){e(r)},function(t){r(t)})})}}}(),a=function(t){var e={};return t={__events:{},on:function(t,e,r){if(t){if("function"!=typeof e)throw new Error("event handler must be a function.");this.__events[t]||(this.__events[t]=[]),this.__events[t].push({hander:e,scope:r})}},fire:function(t,e){if(t){var r=this.__events[t];if(r)for(var n=0,o=r.length;n<o;n++){var a=r[n];a.scope?a.hander.call(a.scope,e):a.hander.call(this,e)}}},off:function(t,e){if(t){var r=this.__events[t];if(e){for(var n=0,o=r.length;n<o;n++)if(r[n].hander===e){r.splice(n,1);break}}else this.__events[t]=null}},broadcast:function(t,r){var n=e[t],o=0;if(void 0!==n){var a=[].slice.call(arguments,0);a=a.length>2?a.splice(2,a.length-1):[],a=[r].concat(a),o=n.length;for(var i=0;i<o;i++){var c=n[i];c&&c.callback&&(a=a.concat(c.args),c.callback.apply(c.scope,a))}}return this},subscribe:function(t,r,n){t=t||[];var o=[].slice.call(arguments);"string"==typeof t&&(t=t.split(","));var a=t.length;if(0===a)return this;o=o.length>3?o.splice(3,o.length-1):[];for(var i=0;i<a;i++){var c=t[i];e[c]=e[c]||[],e[c].push({callback:r,scope:n,args:o})}return this},unsubscribe:function(t,r,n){var o=e[t];if(!o)return this;if(r){for(var a=o.length,i=[],c=0;c<a;c++){var s=o[c];s.callback==r&&s.scope==n||i.push(s)}o=i}else o.length=0;return this}}}(),i=function(t){function e(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function r(t,e){return e&&n.isArray(t)&&(t=t[0]&&t[0][e]),"true"===t||t===!0}var n=h;return n.isTrue=r,t={extend:e}}(),c=function(t){var e="NOT_EMPTY",r=h;return t={array:{maxItems:function(t,e){if(r.isArray(t)&&t.length<=e)return!0},minItems:function(t,e){if(r.isArray(t)&&t.length>=e)return!0}},object:{required:function(t,e){if(r.isArray(e)){var n=!0;return r.each(e,function(e){t.hasOwnProperty(e)||(n=!1)}),n}}},properties:function(t,r){var n=!0;for(var o in r)if(r.hasOwnProperty(o))if(t.hasOwnProperty(o)){var a=(r[o],t[o]);a.format&&a.format===e&&(t[o]||(n=!1))}else n=!1;return n},notEmpty:function(t,e){for(var r=!0,n=0,o=e.length;n<o;n++){var a=e[n],i={};i[a]={format:"NOT_EMPTY"};var c=this.properties(t,i);if(!c){r=!1;break}}return r}}}(),s=function(t){var e=b,r=_,n=h,o=x,a=new o;return t={getNewUrl:function(t,o){if(o=o||{},!t||"string"!=typeof t)return"";var a=o.size||"",i=o.q||"",c="",s=o.xz?"xz":"";a+s+i&&(c="_"+a+s+i,c+=".jpg");try{var u=e.parse(t)}catch(l){return t}var f=u.host,p=u.pathname,g=(u.protocol,"img.alicdn.com");u.protocol="";var d=["a.tbcdn.cn","assets.alicdn.com","wwc.taobaocdn.com","wwc.alicdn.com","cbu01.alicdn.com"];if(n.inArray(d,f))return/alicdn/.test(f)||(u.protocol="http:"),"//"+e.format(u);var h=f.match(/(.+\.(?:alicdn)\.com)/);if(h&&h[0]!=g&&(u.host=g),o&&o.isOriginal)return"//"+e.format(u);var m=/_(\d+x\d+|cy\d+i\d+|sum|m|b)?(xz|xc)?(q\d+)?(s\d+)?(\.jpg)?(_\.webp)?$/i,w=p.match(m);if(/\.gif/.test(p))return"//"+e.format(u);/\.png/.test(p)&&(c=c.replace(/(q\d+)(s\d+)/,"")),o.webp&&r.get("webp")&&(c+="_.webp");var v=/_\.(jpg|png|gif|jpeg)/;if(w)w[1]||w[2]||w[3]||w[4]?u.pathname=p.replace(m,c):w[0].match(v)&&(u.pathname+=c);else if(p.match(/_\.webp$/g)){var y=/_\.webp$/g;u.pathname=p.replace(y,c)}else u.pathname=p+c;return"//"+e.format(u)},toDataUrl:function(t,e){if(!window.XMLHttpRequest||!window.FileReader)return e(t);try{var r=new XMLHttpRequest;r.responseType="blob",r.onload=function(){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(r.response)},r.open("GET",t),r.send()}catch(n){}},getImageAndCache:function(t,e,r,n){var t=this.getNewUrl(t,e),o=this;"function"!=typeof r&&(r=function(e){e&&e!==t&&a.setItem(t,e)});var i=a.getItem(t);return i?i:(n?this.toDataUrl(t,r):setTimeout(function(){o.toDataUrl(t,r)},8e3),t)},response:function(t,e,n,o,a,i){e=n&&r.get("retina")?n:e;var c;if(e){var c={};c.size=e,o&&"q"===o.charAt(0)&&(c.q=o),a&&r.get("webp")&&(c.webp=a)}else c={isOriginal:!0};return i&&(c.xz=!0),t=this.getNewUrl(t,c)}}}(),u=function(t){function e(t,e,r){e=e||{};try{var n={data:e,$runtime:a,_:i},o=t(n);return o}catch(s){window.console&&window.console.log(s),c({category:"tbh_render_error_"+r.name,msg:JSON.stringify({message:s&&s.message,stack:s.stack})})}}var r=O,o=r.all,a={},i=h,c=n;return window._=window._||{},window._.escape=i.escapeHTML,t={render:function(t,r,n,a){var i=e(t,r,this),c=o(i);return n?(o(n).html("").append(c),c):c},renderTo:function(t,r,n){var a=e(t,r,this),i=o(a);return o(n).append(i),i},config:function(t){for(var e in t)t.hasOwnProperty(e)&&(a[e]=t[e])}}}(),l=function(t){function e(t,e,n,o){if(!t||!e)return t;var a=e.prototype,i=Object.create(a);return t.prototype=i,i.constructor=t,t.superclass=a,e!=Object&&a.constructor==Object.prototype&&(a.constructor=e),n&&r.extend(i,n),o&&r.extend(t,o),t}var r=i;return"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),t=e}(),f=function(t){function e(){var t=arguments[0]||{},t=c.extend(this.defaults(),t);this.__events={},r(this,t)}function r(t,e,r){var n;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],t[o]=n)}var n=a,o=l,c=i;return c.extend(e.prototype,n),e.inherit=o,e.extend=function(t,r,n){o(t,e,r,n)},e.prototype.constructor=e,e.prototype.defaults=function(){return{}},e.prototype.get=function(t){return this[t]},e.prototype.set=function(t,e){this[t]=e},t=e}(),p=function(t){function e(){if(e.superclass.constructor.apply(this,arguments),!this.name)throw new Error("module name cannot be null, please check you code.");this.init()}var r=u,i=o,l=a,p=f,g=x,d=_,m=new g,w=n,v=c,y=j,b=s,O=h;return e.inherit=p.inherit,e.extend=function(t,r,n){e.inherit(t,e,r,n)},p.extend(e,O.merge({init:function(){},render:r.render,renderTo:r.renderTo},i,l,{offline:m,validator:v},{__lazyload:function(t){},getLazyloadConfig:function(){return{}},godlog:function(t,e,r,n,o){w({goldlog:[t,e,r,n],msg:o||[t,r].join(":")+"\u66dd\u5149"})},report:function(t,e){var r=t.category||this.category||"ERROR_"+this.name+"_data_err",n=t.type||"warn",o={type:n,data:t.data||{},desc:t.msg||"",name:this.name};t.extra&&(o.extra=t.extra),w({category:r,msg:y.stringify(o)},e||"warn")},reportCache:function(t,e){t=O.merge({data:{step:10,stepName:"storage"},msg:"storage"},t),this.report(t,e)},reportBackup:function(t,e){t=O.merge({data:{step:11,stepName:"backup"},msg:"backup"},t),this.report(t,e)},reportCDN:function(t,e){t=O.merge({data:{step:100,stepName:"cdn"},msg:"cdn"},t),this.report(t,e)},reportError:function(t,e){t=O.merge({data:{step:-1},msg:"empty"},t),this.report(t,e)}})),r.config({placeholder:"//g.alicdn.com/s.gif",suffix:function(t,e,r,n){var o="_";return o+=d.get("retina")?e:t,r&&(o+=r),n&&d.get("webp")&&(o+="_.webp"),o},isTrue:O.isTrue,https:function(t){return t=b.getNewUrl(t,{isOriginal:!0})},image:function(t,e,r,n,o,a){return b.response.apply(b,arguments)}}),t=e}(),g=function(t){return t=p}(),r.exports=g});define("kg/pattern/2.1.3/lib/image",["url","kg/session/0.0.1/index","util","kg/offline/7.0.1/index"],function(e,t,a){var n=e("url"),r=e("kg/session/0.0.1/index"),i=e("util"),o=e("kg/offline/7.0.1/index"),c=new o;a.exports={getNewUrl:function(e,t){if(t=t||{},!e||"string"!=typeof e)return"";var a=t.size||"",o=t.q||"",c="",s=t.xz?"xz":"";a+s+o&&(c="_"+a+s+o,c+=".jpg");try{var l=n.parse(e)}catch(p){return e}var f=l.host,u=l.pathname,d=(l.protocol,"img.alicdn.com");l.protocol="";var m=["a.tbcdn.cn","assets.alicdn.com","wwc.taobaocdn.com","wwc.alicdn.com","cbu01.alicdn.com"];if(i.inArray(m,f))return/alicdn/.test(f)||(l.protocol="http:"),"//"+n.format(l);var g=f.match(/(.+\.(?:alicdn)\.com)/);if(g&&g[0]!=d&&(l.host=d),t&&t.isOriginal)return"//"+n.format(l);var w=/_(\d+x\d+|cy\d+i\d+|sum|m|b)?(xz|xc)?(q\d+)?(s\d+)?(\.jpg)?(_\.webp)?$/i,h=u.match(w);if(/\.gif/.test(u))return"//"+n.format(l);/\.png/.test(u)&&(c=c.replace(/(q\d+)(s\d+)/,"")),t.webp&&r.get("webp")&&(c+="_.webp");var b=/_\.(jpg|png|gif|jpeg)/;if(h)h[1]||h[2]||h[3]||h[4]?l.pathname=u.replace(w,c):h[0].match(b)&&(l.pathname+=c);else if(u.match(/_\.webp$/g)){var v=/_\.webp$/g;l.pathname=u.replace(v,c)}else l.pathname=u+c;return"//"+n.format(l)},toDataUrl:function(e,t){if(!window.XMLHttpRequest||!window.FileReader)return t(e);try{var a=new XMLHttpRequest;a.responseType="blob",a.onload=function(){var e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsDataURL(a.response)},a.open("GET",e),a.send()}catch(n){}},getImageAndCache:function(e,t,a,n){var e=this.getNewUrl(e,t),r=this;"function"!=typeof a&&(a=function(t){t&&t!==e&&c.setItem(e,t)});var i=c.getItem(e);return i?i:(n?this.toDataUrl(e,a):setTimeout(function(){r.toDataUrl(e,a)},8e3),e)},response:function(e,t,a,n,i,o){t=a&&r.get("retina")?a:t;var c;if(t){var c={};c.size=t,n&&"q"===n.charAt(0)&&(c.q=n),i&&r.get("webp")&&(c.webp=i)}else c={isOriginal:!0};return o&&(c.xz=!0),e=this.getNewUrl(e,c)}}});define("kg/pattern/2.1.3/lib/reporter",["ua","util"],function(o,n,e){var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},r=o("ua"),t=(window.location.hostname,o("util"));window.JSTracker2=window.JSTracker2||[],e.exports=function(o,n){if(o.category){if(r.ie&&r.ie<8)return;o.sampling=o.sampling||10;var e="http://jstracker.www.taobao.com/0.0.3/"+o.category;e=e.slice(0,200),window.JSTracker2.push({msg:o.msg,url:e,sampling:o.sampling})}t.isArray(o.goldlog)&&(o.goldlog[3]||(o.goldlog[3]="H46896569"),"object"===l(o.goldlog[2])&&(o.goldlog[2]=t.param(o.goldlog[2])),(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:o.goldlog}));var i=window.location.search,g=!1;i&&(i=t.unparam(i.slice(1)),g=i.hasOwnProperty("_console")||i.hasOwnProperty("_debug")),o.msg&&g&&(n=n||"info",r.ie&&r.ie<=8&&(n="log"),window.console&&window.console[n]&&window.console[n]("[REPORTER LOG] "+o.msg))}});define("kg/pattern/2.1.3/lib/io",["kg/xctrl/7.2.1/xctrl-kissy","promise","io","util","kg/route-map-http/0.0.3/index"],function(t,n,r){var e=t("kg/xctrl/7.2.1/xctrl-kissy"),i=t("promise"),o=t("io"),a=t("util"),u=t("kg/route-map-http/0.0.3/index");r.exports={xctrl:function(t){return new i(function(n,r){t.callback=function(t){t?n(t):r(t)},e.dynamic(t)})},jsonp:function(t){"string"==typeof t&&(t={url:t});var n={dataType:"jsonp",timeout:5};if(!t.url)throw new Error("jsonp request need url");return t=a.merge(n,t),this.ajax(t)},ajax:function(t){return new i(function(n,r){t.success=function(t){n(t)},t.error=function(t,n){r({message:n})},o(t)})},tarzan:function(t){"string"==typeof t&&(t={url:t});var n=new u({api:t.url,data:t.data||{},dirName:"pctaobao"});return this.jsonp({url:n.getCDNAddress(),timeout:60,jsonpCallback:n.getJSONPCallbak(),cache:!0})},use:function(t){return new i(function(n,r){KISSY.use([t],function(t,r){n(r)},function(t){r(t)})})}}});define("kg/home-2017/1.3.0/c/fixedtool/index.css",["node"],function(o,t,i){"use strict";var e=o("node");i.exports=e("<style>div.tbh-fixedtool .ft1190{margin-right:-633px}div.tbh-fixedtool .ft990{margin-right:-533px}div.tbh-fixedtool.left .ft1190{margin-left:-633px;margin-right:auto}div.tbh-fixedtool.left .ft990{margin-left:-533px;margin-right:auto}.fixedtool{display:none;position:absolute;z-index:4;top:837px;right:50%;width:50px;text-align:center;margin-right:-655px}.fixedtool .wangwang.tb-ifont{position:absolute;height:36px;width:50px;line-height:36px;text-align:center;font-size:32px;color:#ff7f13;top:-28px;right:0}.fixedtool.left{left:50%;right:auto;margin-right:auto;margin-left:-655px;top:auto;bottom:50px}.fixedtool a{display:block;height:44px;position:relative;text-decoration:none;padding:6px 8px 0;font-size:14px;line-height:40px;background:#fff}.fixedtool a:after{content:'';border-bottom:1px solid #efefef;width:34px;position:absolute;left:8px;bottom:-1px;z-index:1}.fixedtool a:last-child:after{border-bottom:none}.fixedtool a.fixedtool-1{-webkit-border-top-left-radius:8px;-moz-border-radius-topleft:8px;border-top-left-radius:8px;-webkit-border-top-right-radius:8px;-webkit-background-clip:padding-box;-moz-border-radius-topright:8px;-moz-background-clip:padding;border-top-right-radius:8px;background-clip:padding-box}.fixedtool a.fixedtool-9{-webkit-border-bottom-left-radius:8px;-moz-border-radius-bottomleft:8px;border-bottom-left-radius:8px;-webkit-border-bottom-right-radius:8px;-webkit-background-clip:padding-box;-moz-border-radius-bottomright:8px;-moz-background-clip:padding;border-bottom-right-radius:8px;background-clip:padding-box}.fixedtool a.fixedtool-8 i{font-size:12px}.fixedtool a i{font-style:normal;font-size:14px;display:block;line-height:40px}.fixedtool a.on,.fixedtool a:hover{z-index:2;text-decoration:none;color:#FFF;background-repeat:no-repeat;font-weight:700;background-repeat:repeat-x;background-image:-webkit-linear-gradient(135deg,#ff971b,#ff5000);background-image:-o-linear-gradient(135deg,#ff971b,#ff5000);background-image:linear-gradient(135deg,#ff971b,#ff5000);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffff5000', endColorstr='#ffff6f06', GradientType=1)}.fixedtool a.on .tb-ifont,.fixedtool a:hover .tb-ifont{color:#FFF}.fixedtool a:focus{outline:0}.fixedtool a em{position:absolute;right:-30px;width:40px;height:40px;text-indent:-9999px;z-index:2;top:5px}.fixedtool .fixedtool-7 .tb-ifont{color:#999;position:relative;line-height:20px}a.fixedtool-1,a.fixedtool-3,a.fixedtool-4,a.fixedtool-5,a.fixedtool-6,a.fixedtool-7,a.fixedtool-9{line-height:17px;font-size:13px}a.fixedtool-7,a.fixedtool-8,a.fixedtool-9{font-size:12px}a.fixedtool-1{color:#F40;padding-top:10px;height:40px}a.fixedtool-1.on,a.fixedtool-1:hover{background-color:#F40}.fixedtool-3{color:#f05}.fixedtool-4{color:#8d7afb}.fixedtool-5{color:#A8C001}.fixedtool-2{color:#a2745b}a.fixedtool-6{color:#F40}.fixedtool-8 strong i,.fixedtool-9 strong i{font-size:12px}</style>").appendTo("head")});define("kg/pattern/2.1.3/lib/event",[],function(e,t,n){var r={};n.exports={__events:{},on:function(e,t,n){if(e){if("function"!=typeof t)throw new Error("event handler must be a function.");this.__events[e]||(this.__events[e]=[]),this.__events[e].push({hander:t,scope:n})}},fire:function(e,t){if(e){var n=this.__events[e];if(n)for(var r=0,s=n.length;r<s;r++){var i=n[r];i.scope?i.hander.call(i.scope,t):i.hander.call(this,t)}}},off:function(e,t){if(e){var n=this.__events[e];if(t){for(var r=0,s=n.length;r<s;r++)if(n[r].hander===t){n.splice(r,1);break}}else this.__events[e]=null}},broadcast:function(e,t){var n=r[e],s=0;if(void 0!==n){var i=[].slice.call(arguments,0);i=i.length>2?i.splice(2,i.length-1):[],i=[t].concat(i),s=n.length;for(var a=0;a<s;a++){var c=n[a];c&&c.callback&&(i=i.concat(c.args),c.callback.apply(c.scope,i))}}return this},subscribe:function(e,t,n){e=e||[];var s=[].slice.call(arguments);"string"==typeof e&&(e=e.split(","));var i=e.length;if(0===i)return this;s=s.length>3?s.splice(3,s.length-1):[];for(var a=0;a<i;a++){var c=e[a];r[c]=r[c]||[],r[c].push({callback:t,scope:n,args:s})}return this},unsubscribe:function(e,t,n){var s=r[e];if(!s)return this;if(t){for(var i=s.length,a=[],c=0;c<i;c++){var l=s[c];l.callback==t&&l.scope==n||a.push(l)}s=a}else s.length=0;return this}}});